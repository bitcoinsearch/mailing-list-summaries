<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - New transaction policies (nVersion=3) for contracting protocols</title>
  <updated>2023-07-11T02:23:40.966714+00:00</updated>
  <author>
    <name>Greg Sanders 2023-06-21 20:57:45+00:00</name>
  </author>
  <author>
    <name>Gloria Zhao 2022-09-26 16:47:49+00:00</name>
  </author>
  <author>
    <name>Bastien TEINTURIER 2022-09-29 09:15:02+00:00</name>
  </author>
  <author>
    <name>Gloria Zhao 2022-09-23 15:18:21+00:00</name>
  </author>
  <author>
    <name>Bastien TEINTURIER 2022-09-30 12:08:41+00:00</name>
  </author>
  <author>
    <name>Greg Sanders 2022-09-30 12:17:38+00:00</name>
  </author>
  <author>
    <name>Bastien TEINTURIER 2022-09-26 15:27:40+00:00</name>
  </author>
  <author>
    <name>Greg Sanders 2022-09-23 18:48:39+00:00</name>
  </author>
  <author>
    <name>Greg Sanders 2022-09-26 16:01:54+00:00</name>
  </author>
  <author>
    <name>Ruben Somsen 2022-09-30 00:13:53+00:00</name>
  </author>
  <author>
    <name>Greg Sanders 2022-09-29 14:41:28+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2022-09-25 23:59:22+00:00</name>
  </author>
  <author>
    <name>Ruben Somsen 2022-10-01 09:59:55+00:00</name>
  </author>
  <link href="bitcoin-dev/June_2023/021780_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020943_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020950_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020937_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020959_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020960_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020941_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020938_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020942_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020957_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020951_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Sept_2022/020939_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2022/020962_New-transaction-policies-nVersion-3-for-contracting-protocols.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - New transaction policies (nVersion=3) for contracting protocols</title>
    <updated>2023-07-11T02:23:40.966865+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021780.html" rel="alternate"/>
    <summary>The Bitcoin development team has proposed a set of mempool and transaction relay policies, known as BIP-325, to assist Layer 2/contract protocols. The aim of the proposal is to enhance the replace-by-fee (RBF) feature by introducing version 3 transactions (V3).These V3 transactions have a maximum size limit of 1000 virtual bytes, which helps reduce costs for fee-bumping transactions by limiting the amount of vbytes that need to be replaced.The proposal includes modifications to the package RBF rules. One of the new rules requires all package transactions with mempool conflicts to be V3. This ensures that replacements are not less incentive-compatible to mine. Additionally, the proposal specifies that commitment transactions in the Lightning Network should be V3 and have one anchor output. The child transaction, which funds fees for multiple commitment transactions, must also be V3 and have a size no larger than 1000vB.To perform a second fee-bump and add more fees, the child transaction should be replaced with a higher-feerate transaction, rather than attempting to attach a grandchild. It is advised to never spend from an unconfirmed V3 transaction, as the descendant limits for V3 transactions are very restrictive.In response to expected questions, the development team clarifies that the V3 descendant limit restricts both the user and their counterparty, fixing Rule 3 Pinning. Regarding privacy concerns, it is acknowledged that widespread use of V3 transactions outside of L2 may be unrealistic. However, this does not worsen the existing situation. Furthermore, a V3 transaction that does not signal BIP125 replaceability can still be replaced, but it would not have been in the mempool under the previous policy. Both V2 and V3 transactions can replace each other to prevent censorship.Feedback and review of the proposal are encouraged. The full set of rules can be found in the provided links.In addition to the proposed mempool/transaction relay policies, Gloria Zhao has proposed a new version of transaction format, V3, aimed at improving replace-by-fee (RBF) and child-pays-for-parent (CPFP) protocols. This proposal includes rules that specify limits on the size and number of "descendant" transactions, or those that rely on an unconfirmed parent transaction for funding.The proposal aims to prevent pinning attacks where a malicious counterparty prevents a transaction from being replaced by adding many descendant transactions that aren't fee-bumping. The smaller the descendant size limit, the fewer UTXOs a child may use to fund this fee-bump. However, as the fee-bumping child only needs to fund fees, just a few UTXOs should suffice. With a limit of 1000 virtual bytes, depending on the output types, the child can have 6-15 UTXOs, which should be enough to fund a fee-bump without requiring a carefully-managed UTXO pool.Package RBF modifications have also been suggested. One of the main changes is that all package transactions with mempool conflicts are required to be V3. This also means the "sponsoring" child transaction must be V3. The proposals are intended for usage in Layer 2 Bitcoin transactions, such as commitment transactions on the Lightning Network.A proposal for a minimally-invasive step to enable fee-bumping presigned transactions specifically using Child-Pays-For-Parent (CPFP) and anchor outputs has been put forward. The proposal intends to fix the Lightning Network Penalty and does not close all pinning attacks possible. While it is tailored for LN Penalty, it works for Lightning today. One scenario it does not fix is where HTLC/commitment-like transactions are being resolved in a batch, but due to relative time constraints, you may want to accelerate some and not others. This RBF package would require replacements to be better mining candidates.The email also discussed a few additional rules applying to V3 transactions, such as allowing them to be replaced even if they don't signal BIP125 replaceability and requiring all descendants of an unconfirmed V3 transaction to be V3.Overall, the proposal has generated positive feedback, and it is believed that it would be valuable to add this feature. New logic is required to handle some cases, but it is doable and worth adding. The use of ephemeral anchors + v3 solves some of the issues already, and it's great news if we can directly source fees from any output claimable, including HTLCs. Feedback and review of the proposal are welcome.</summary>
    <published>2023-06-21T20:57:45+00:00</published>
  </entry>
</feed>
