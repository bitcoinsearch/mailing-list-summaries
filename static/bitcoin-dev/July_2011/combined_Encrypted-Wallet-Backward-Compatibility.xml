<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - Encrypted Wallet Backward Compatibility</title>
  <updated>2023-05-18T22:36:32.054241+00:00</updated>
  <author>
    <name>Matt Corallo 2011-07-04 17:52:53</name>
  </author>
  <author>
    <name>Matt Corallo 2011-07-05 01:10:39</name>
  </author>
  <author>
    <name>Gregory Maxwell 2011-07-04 22:30:12</name>
  </author>
  <author>
    <name>Gregory Maxwell 2011-07-04 20:59:07</name>
  </author>
  <author>
    <name>Pieter Wuille 2011-07-10 19:10:07</name>
  </author>
  <author>
    <name>Matt Corallo 2011-07-05 11:03:15</name>
  </author>
  <author>
    <name>Matt Corallo 2011-07-04 20:39:32</name>
  </author>
  <author>
    <name>Matt Corallo 2011-07-10 14:21:17</name>
  </author>
  <link href="bitcoin-dev/July_2011/000129_Encrypted-Wallet-Backward-Compatibility.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2011/000135_Encrypted-Wallet-Backward-Compatibility.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2011/000134_Encrypted-Wallet-Backward-Compatibility.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2011/000132_Encrypted-Wallet-Backward-Compatibility.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2011/000163_Encrypted-Wallet-Backward-Compatibility.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2011/000138_Encrypted-Wallet-Backward-Compatibility.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2011/000131_Encrypted-Wallet-Backward-Compatibility.xml" rel="alternate"/>
  <link href="bitcoin-dev/July_2011/000161_Encrypted-Wallet-Backward-Compatibility.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - Encrypted Wallet Backward Compatibility</title>
    <updated>2023-05-18T22:36:32.054241+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2011-July/000129.html" rel="alternate"/>
    <summary>There are currently backward-compatibility issues with Wallet encryption in Bitcoin. In version 0.3.23, Bitcoin dies with "ReserveKeyFromKeyPool() : unknown key in key pool" after writing one unencrypted private key to the (otherwise) encrypted wallet. In version 0.3.22, Bitcoin opens fine and displays transactions, however shows a total balance of what is help only in unencrypted keys (of which it also writes a minimum of one before opening), and each transaction shows only confirmation count, date, no description, and a debit/credit of 0.00.Users have suggested several solutions, including renaming wallet.dat for encrypted wallets or simply doing nothing and letting old clients get mad. One proposed solution is to agree on either https://github.com/bitcoin/bitcoin/pull/378 or https://github.com/bitcoin/bitcoin/pull/381, which prevent the issue from occurring in the future. The priority is to release 0.3.24 as soon as possible to give users lead time on 0.4 so that any solution can be in as many hands as possible, and so that network issues can be resolved.In July 2011, Gavin Andresen discussed a plan to intentionally break unsafe/badly designed backup mechanisms while merging import/export. He suggests creating an encrypted wallet file named "wallet_e.dat" which truncates the original wallet.dat and sets its file-permissions to 000, so that any old versions of bitcoin or outdated wallet backup scripts trying to read it will fail. However, silently breaking these backup mechanisms is not desirable as people may notice if they start backing up a zero-byte file.Meanwhile, Matt Corallo discovered a data structure in wallet settings that should cause all versions of Bitcoin to crash on load instead of making a new wallet or opening in some bizarre half-state. By putting an empty object in addrIncoming, he created a commit at https://github.com/TheBlueMatt/bitcoin/commit/2e8383469d7e12a495b3a1dbd41a8d211ff34fe8 to resolve all known issues on newenc except for the invalid mlock calculations. During discussions, they also talked about future-proofing by adding a nMinVersion that specifies "you must be at least THIS version to read this file."</summary>
    <published>2011-07-04T17:52:53+00:00</published>
  </entry>
</feed>
