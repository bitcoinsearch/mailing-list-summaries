<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - OP_Expire and Coinbase-Like Behavior: Making HTLCs Safer by Letting Transactions Expire Safely</title>
  <updated>2023-10-24T14:55:56.131811+00:00</updated>
  <author>
    <name>Peter Todd 2023-10-23 15:45:44+00:00</name>
  </author>
  <author>
    <name>ZmnSCPxj 2023-10-23 11:10:56+00:00</name>
  </author>
  <author>
    <name>vjudeu at gazeta.pl 2023-10-22 08:30:01+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 10:31:05+00:00</name>
  </author>
  <author>
    <name>David A. Harding 2023-10-21 08:58:32+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 00:09:16+00:00</name>
  </author>
  <link href="bitcoin-dev/Oct_2023/022073_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022068_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022061_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022051_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022050_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022042_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - OP_Expire and Coinbase-Like Behavior: Making HTLCs Safer by Letting Transactions Expire Safely</title>
    <updated>2023-10-24T14:55:56.131886+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-October/022073.html" rel="alternate"/>
    <summary>The email discusses the use of existing opcodes like OP_CHECKSEQUENCEVERIFY and OP_RESERVED in Bitcoin transactions to address the problem of spendability and expiration of certain transaction paths. The sender suggests building a soft-fork around these opcodes rather than reinventing them. They propose using OP_Expire, a redefined version of an existing opcode, to create an expiration mechanism for certain transaction paths. This would allow for urgency in spending the HTLC preimage before the previous HTLC timeout is mined.

The proposed solution involves introducing an explicit field called nExpiryTime in the taproot annex. This field indicates that the transaction must not exist in a block at or above the specified height. The mempool should put transactions into buckets based on their nExpiryTime, and if the block height is reached, all buckets with nExpiryTime less than that block height should be dropped. Additionally, an OP_CHECKEXPIRYTIMEVERIFY opcode is proposed, which checks if nExpiryTime exists and has a value equal to or less than the stack top.

The email mentions that the proposed solution is better implemented by non-Bitcoin-core implementations as the use of transaction buckets is now explicit. It also discusses the possibility of encoding the expiration height as a delta against a block height nLockTime, similar to OP_CheckLockTimeVerify. The absolute expiration height would be checked using OP_Expire.

The sender highlights the importance of addressing the spendability and expiration of certain transaction paths, particularly in the context of HTLCs. They propose solutions that ensure urgency in spending the HTLC preimage while maintaining compatibility with existing nodes and minimizing reorg risks. The email provides detailed explanations and examples to support the proposed solutions, including the use of reserved opcodes and redefining existing opcodes.

Overall, the email presents various solutions and considerations for addressing the spendability and expiration of certain transaction paths in Bitcoin, emphasizing the importance of urgency and security in HTLCs while maintaining compatibility with existing nodes.</summary>
    <published>2023-10-23T15:45:44+00:00</published>
  </entry>
</feed>
