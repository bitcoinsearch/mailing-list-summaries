<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - OP_Expire and Coinbase-Like Behavior: Making HTLCs Safer by Letting Transactions Expire Safely</title>
  <updated>2023-11-14T02:02:54.808367+00:00</updated>
  <author>
    <name>Antoine Riard 2023-11-13 02:18:16+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-11-08 02:06:23+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-11-08 00:51:31+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2023-11-07 15:44:21+00:00</name>
  </author>
  <author>
    <name>ZmnSCPxj 2023-11-07 11:11:59+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2023-11-06 18:45:21+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-11-04 07:26:24+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2023-11-03 05:27:54+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2023-11-03 05:25:24+00:00</name>
  </author>
  <author>
    <name>Matt Morehouse 2023-11-02 17:07:39+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-11-02 06:26:38+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2023-11-02 05:24:36+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-23 15:45:44+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-23 15:45:44+00:00</name>
  </author>
  <author>
    <name>ZmnSCPxj 2023-10-23 11:10:56+00:00</name>
  </author>
  <author>
    <name>ZmnSCPxj 2023-10-23 11:10:56+00:00</name>
  </author>
  <author>
    <name>vjudeu at gazeta.pl 2023-10-22 08:30:01+00:00</name>
  </author>
  <author>
    <name>vjudeu at gazeta.pl 2023-10-22 08:30:01+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 10:31:05+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 10:31:05+00:00</name>
  </author>
  <author>
    <name>David A. Harding 2023-10-21 08:58:32+00:00</name>
  </author>
  <author>
    <name>David A. Harding 2023-10-21 08:58:32+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 00:09:16+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 00:09:16+00:00</name>
  </author>
  <link href="bitcoin-dev/Nov_2023/022166_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022157_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022155_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022136_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022129_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022130_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022121_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022115_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022114_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022113_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022108_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Nov_2023/022110_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022073_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/004174_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022068_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/004173_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022061_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/004160_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022051_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/004170_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/004159_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022050_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/022042_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="bitcoin-dev/Oct_2023/004163_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - OP_Expire and Coinbase-Like Behavior: Making HTLCs Safer by Letting Transactions Expire Safely</title>
    <updated>2023-11-14T02:02:54.808611+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-November/022166.html" rel="alternate"/>
    <summary>Multi-party off-chain constructions face challenges with outdated states disrupting consensus through attacks like replacement cycling or pinning. Fee-bumping reserves for each channel counterparty are necessary due to fee griefing games, but this affects capital efficiency. A solution suggests individual reserves for fee bumping, yet it brings complexities such as the need for significant reserves and vulnerability to commitment transactions spending each other on the chain.

Package relay's third version alters handling of zero value outputs and enforces policy changes where anchors must be spent within the same transaction package, potentially inviting new attack forms. The timely revelation of a preimage in blockchain transactions is a concern, with Carol possibly preventing Bob from learning the preimage while still being able to use it. OP_Expire is proposed to ensure preimage disclosure or render it useless, offering an alternative to RBF without anchor outputs and suggesting SIGHASH_NOINPUT or covenants as future solutions.

Antoine's email addresses vulnerabilities in single-input commitment transactions, highlighting risks of exploitation through replacement cycling and safety concerns when mempool fees exceed pre-signed rates, challenging dynamic fee-bumping and network stability. HTLC mechanics protect against certain attacks by enforcing timelocks.

Skepticism exists around the effectiveness of OP_Expire in combating adversarial tactics within the Lightning Network. Scenarios involving routing nodes exploiting signature exchange delays for profit are noted, prompting reevaluation of OP_Expire's comprehensive protection against attacks. Despite these concerns, OP_Expire could simplify monitoring processes for Lightning nodes by setting a definitive window for preimage usage.

A key vulnerability discussed is multiple pre-signed commitment transactions with an RBF range above zero, which attackers could manipulate using CPFP. Programmers are urged to address this security issue.

The discussions highlight technical issues and proposals for securing off-chain transactions, resource optimization, and effective adversarial action prevention in the blockchain space. 

Advanced replacement techniques threaten commitment transactions in the Lightning Network, with anchor outputs providing contrast in fee management. Reverse time-locks and fee-bumping reserve pre-commitment are potential solutions, though they come with trade-offs.

An nExpiryHeight field is preferred over time-based expiration to prevent miner timestamp manipulation. A taproot annex redesign proposes an nExpiryTime field to categorize transactions for block inclusion, introducing an OP_CHECKEXPIRYTIMEVERIFY opcode to enforce this. Soft-fork considerations for OP_CHECKSEQUENCEVERIFY are discussed, with OP_Expire functioning similarly to AntiCheckLockTimeVerify, enabling normal transaction of expired HTLC branches.

These conversations aim to enhance Bitcoin transactions and Lightning Network security, fee structures, and functionality, reflecting the programming community's effort to tackle challenges and innovate.

The discussion explores replacement cycling attacks and secure HTLC redemption. An "anyone-can-spend" branch increases risk, allowing multiple actors to exploit vulnerabilities. OP_Expire offers flexibility but may not fully mitigate risks associated with full-RBF. A new proposal suggests making the HTLC-preimage claimable by anyone post-HTLC-timeout to guarantee mining before expiration. This method considers miner centralization and relay node updates, proposing no changes for Bitcoin nodes.

Complexities arise with spendability of HTLC paths, where both timeout and preimage paths remain spendable after timeout. OP_Expire combined with a Coinbase Bit soft-fork upgrade could resolve this, treating transactions similarly to coinbase transactions with a 100-block maturation period. An alternative approach uses delta encoding against block-height nLockTime.

For more details, [Peter Todd's website](https://petertodd.org) is recommended as a resource.</summary>
    <published>2023-11-13T02:18:16+00:00</published>
  </entry>
</feed>
