<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>1</id>
  <title>New transaction policies (nVersion=3) for contracting protocols</title>
  <updated>2023-07-08T02:27:07.613135+00:00</updated>
  <author>
    <name>Greg Sanders 2023-06-21 20:57:45+00:00</name>
  </author>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>1</id>
    <title>New transaction policies (nVersion=3) for contracting protocols</title>
    <updated>2023-07-08T02:27:07.613173+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021780.html" rel="alternate"/>
    <summary>The Bitcoin Core development team has proposed a set of new rules for Bitcoin transactions. These rules aim to improve incentive compatibility for miners and address potential issues with different types of packages. The first rule states that the minimum fee rate between a package and its child's ancestor should not be lower than the fee rates of conflicting transactions and ancestor transactions. This ensures that replacement transactions are not less incentive-compatible to mine.The second rule requires that all package transactions with mempool conflicts be Version 3 (V3), including the "sponsoring" child transaction. This restriction ensures that only V3 transactions can pay to replace their ancestors' conflicts and that only V3 transactions' replacements can be paid for by a descendant. This helps apply the descendant limits correctly and maintain incentive compatibility.For usage in the Lightning Network (LN), commitment transactions should also be V3 and have one anchor output. These transactions can initially be signed with zero fees or 1 sat/vbyte. If the commitment transaction needs to be broadcasted, the desired fee rate can be determined at broadcast time, and the anchor output can be spent in a high fee-rate transaction called "the child." The child must also be V3 and have a maximum size of 1000vB. Batched fee-bumping allows one child to fund fees for multiple commitment transactions. To add more fees, a higher fee-rate transaction should replace the child instead of attaching a grandchild.The proposed rules address the issue of Rule 3 Pinning by restricting both parties to replace only the commitment transaction and up to 1000vB. Counterparty commitment transactions can be replaced by attaching a high fee-rate child transaction to the own commitment transaction, eliminating the need for Child Pays for Parent (CPFP).In terms of privacy concerns, it is acknowledged that V3 transactions may not be widely used outside of Layer 2 (L2). Unilateral closes are already identifiable as LN transactions due to the HTLC inputs. For cooperative closes and opens, continuing to use V2 transactions makes sense, so the use of V3 transactions should not worsen privacy.The proposed rules maintain backward compatibility by allowing V2 transactions to replace V3 transactions and vice versa. This prevents potential censorship of V2 transactions spending shared inputs by using V3 transactions. However, if an original V3 transaction has an unconfirmed V3 parent, it would violate the "inherited V3" rule and be rejected.Feedback and review of these proposed rules are welcomed. The full set of rules can be found in the PR, along with additional information in the provided links [1] [2].</summary>
    <published>2023-06-21T20:57:45+00:00</published>
  </entry>
</feed>
