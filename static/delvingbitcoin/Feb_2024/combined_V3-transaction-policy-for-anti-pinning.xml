<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - V3 transaction policy for anti-pinning</title>
  <updated>2024-02-06T01:55:22.492503+00:00</updated>
  <author>
    <name>Chris_Stewart_5 2024-02-05 14:49:55.967000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-22 13:34:33.453000+00:00</name>
  </author>
  <author>
    <name>ajtowns  . 2024-01-22 10:53:08.317000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-09 19:42:52.645000+00:00</name>
  </author>
  <author>
    <name>rustynail  . 2024-01-09 17:14:59.971000+00:00</name>
  </author>
  <author>
    <name>rustynail  . 2024-01-09 17:13:30.389000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-09 14:57:31.676000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-09 14:46:24.882000+00:00</name>
  </author>
  <author>
    <name>rustynail  . 2024-01-09 02:31:45.414000+00:00</name>
  </author>
  <author>
    <name>rustynail  . 2024-01-09 01:41:58.240000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-08 16:26:01.476000+00:00</name>
  </author>
  <author>
    <name>ajtowns  . 2024-01-08 10:53:07.926000+00:00</name>
  </author>
  <author>
    <name>moonsettler  . 2024-01-08 10:39:32.425000+00:00</name>
  </author>
  <author>
    <name>harding  . 2024-01-08 00:46:00.245000+00:00</name>
  </author>
  <author>
    <name>moonsettler  . 2024-01-07 21:00:40.924000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-07 20:27:40.566000+00:00</name>
  </author>
  <author>
    <name>moonsettler  . 2024-01-07 18:16:21.397000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-06 13:53:10.677000+00:00</name>
  </author>
  <author>
    <name>harding  . 2024-01-05 23:17:45.270000+00:00</name>
  </author>
  <author>
    <name>harding  . 2024-01-05 23:11:33.055000+00:00</name>
  </author>
  <author>
    <name>nettimel  . 2024-01-05 22:42:16.182000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-05 22:00:07.209000+00:00</name>
  </author>
  <author>
    <name>harding  . 2024-01-05 21:59:28.150000+00:00</name>
  </author>
  <author>
    <name>nettimel  . 2024-01-05 21:32:42.046000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-05 21:22:26.201000+00:00</name>
  </author>
  <author>
    <name>nettimel  . 2024-01-05 21:20:21.432000+00:00</name>
  </author>
  <author>
    <name>harding  . 2024-01-05 20:59:48.389000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-05 20:50:02.789000+00:00</name>
  </author>
  <author>
    <name>harding  . 2024-01-05 20:49:20.673000+00:00</name>
  </author>
  <author>
    <name>orangesurf  . 2024-01-05 20:40:59.118000+00:00</name>
  </author>
  <author>
    <name>harding  . 2024-01-03 21:10:57.222000+00:00</name>
  </author>
  <author>
    <name>instagibbs  . 2024-01-02 20:46:40.548000+00:00</name>
  </author>
  <author>
    <name>glozow  . 2024-01-02 11:44:31.159000+00:00</name>
  </author>
  <author>
    <name>AntoineP  . 2024-01-02 09:42:08.552000+00:00</name>
  </author>
  <author>
    <name>AntoineP  . 2024-01-02 09:36:47.462000+00:00</name>
  </author>
  <link href="delvingbitcoin/Feb_2024/1460_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1280_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1279_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1047_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1045_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1044_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1041_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1042_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1032_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1028_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1019_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1017_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1015_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1005_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1003_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/998_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/988_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/955_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/936_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/950_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/949_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/948_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/947_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/946_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/945_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/944_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/941_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/940_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/939_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/938_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/916_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/897_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/896_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/894_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/892_V3-transaction-policy-for-anti-pinning.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - V3 transaction policy for anti-pinning</title>
    <updated>2024-02-06T01:55:22.492728+00:00</updated>
    <link href="https://delvingbitcoin.org/t/v3-transaction-policy-for-anti-pinning/340/35" rel="alternate"/>
    <summary>The discourse addresses improvements in Bitcoin transaction protocols, focusing on Discreet Log Contracts (DLCs), packaging strategies for transactions, and fee policies. The use of packaging in DLCs allows for the combination of refund transactions with a Child Pays for Parent (CPFP) transaction to ensure confirmations even when oracles fail. Both parties are capable of submitting this package due to valid outputs on the refund transaction.

Version 3 (v3) transaction protocols are considered, particularly for their relevance in batch CPFP transactions under the Replace-By-Fee (RBF) rules. Ephemeral anchors are proposed to add flexibility, invoking RBF rules by requiring spending for transactions to persist in the mempool. These considerations are critical for networks like the Lightning Network (LN), where transaction anchoring is vital for security and efficiency.

Different types of transaction anchors are assessed for LN transactions, each with distinct trade-offs. The current 2-keyed anchor approach relies on the CPFP carveout, which might become outdated. Alternatives include 1-keyed anchors depending on V3 and package RBF but with higher costs, shared keyed anchors that permit independent spending but introduce risks, and keyless anchors, which are cheaper but vulnerable to pinning attacks. The search for sustainable replacements for CPFP carveout focuses on enhancing LN protocols through modified transaction structures and updated fee policies.

In relation to HTLCs, there is no immediate emphasis on making them non-pinnable due to the need for extensive revisions. However, the urgency of addressing these issues is acknowledged. The setting of transaction fees is discussed with reference to the Bitcoin Improvement Proposal (BIP) text, suggesting a maximum fee multiplier. An outdated analysis on the fee margin of error is revisited, indicating potential higher costs for victims than previously calculated.

A vulnerability is identified that could allow attackers to delay user transactions by exploiting fee structures and mempool conditions. This raises concerns about the efficiency of HTLCs and the integration of V3 transactions with HTLC mechanisms. The "cycle attack" issue is also mentioned, suggesting mitigations such as persistent re-broadcasting.

The conversation highlights the risks of centralization through miners offering an out-of-band fee payment API. A proposed soft fork requires ephemeral anchors to be spent within the same block to prevent them from becoming UTXO set 'dust.' Despite this proposal, the effectiveness of such a soft fork is questionable due to economic incentives favoring out-of-band payments.

Out-of-band payments pose risks of pinning attacks, leading to potential delays in spending channel funds. Countermeasures include paying out-of-band to increase fees, contradicting mining decentralization principles. Batched CPFP could improve transaction processing, yet challenges remain in methods resistant to pinning attacks. Fee bumping mechanisms and ephemeral anchor transactions are debated, highlighting concerns over multiple unconfirmed ancestors leading to mempool pinning.

Smart contract development discussions emphasize optimizing fee bidding processes. No satisfactory alternatives to replace-by-fee mechanisms have been found. Enhancements to peer-to-peer protocols supporting CPFP fee bumping mechanisms, such as package relay and ephemeral anchors, are suggested. Ephemeral anchors could transform policy rules into consensus rules through a soft fork.

Peter Todd's article discusses the challenges and solutions related to HTLCs and smart contracts. It emphasizes the need for remedies to enhance functionality and security. Discussions surrounding SIGHASH_ANYONECANPAY focus on preserving decentralization by weighing the minimal cost of ephemeral anchors against halting proposals that may compromise it.

Presigned HTLC-X transactions, BringYourOwnFunds (BYOF) schemes, and their implications for decentralization are explored. A soft fork rule requiring child spends to have at least two inputs is suggested to neutralize incentives for off-chain miner payments. Peter Todd identifies efficiencies suggesting that miners might consolidate outputs effectively, maintaining out-of-band payment efficiencies.

An "ephemeral anchor" strategy optimizes block space usage by addressing transaction size management in virtual bytes (vbytes). Nodes' ability to forward payments quickly influences revenue from forwarding fees, with faster nodes potentially earning more.

The community contemplates implementing a soft fork to address the trend of out-of-band payments for ephemeral anchors, threatening mining decentralization. The preference would likely lean towards activating the soft fork to maintain decentralization.

Finally, Peter Todd's analysis points out latency issues with musig2 partial signatures impacting node earnings, with potential shifts to lower-latency operations like CPFP. Vulnerabilities in commitment transaction broadcasts pose exploitation risks, suggesting mitigation strategies like capping total HTLC exposure relative to liquidity.

Gloria Zhao proposes a "V3" transaction relay policy to solve the pinning problem, alongside Greg Sanders' ephemeral anchors. The V3 discussion follows the closing of a mailing list used for technical debates. Design specifications and contributions to transaction relay improvement in Bitcoin are documented in Bitcoin Core repository pull requests and GitHub issue trackers, providing rationale and expected benefits for the V3</summary>
    <published>2024-02-05T14:49:55.967000+00:00</published>
  </entry>
</feed>
