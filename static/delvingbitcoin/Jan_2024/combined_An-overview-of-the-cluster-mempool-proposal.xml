<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - An overview of the cluster mempool proposal</title>
  <updated>2024-01-13T02:01:43.622697+00:00</updated>
  <author>
    <name>sdaftuar 2024-01-12 19:27:17.249000+00:00</name>
  </author>
  <author>
    <name>instagibbs 2024-01-12 18:21:48.769000+00:00</name>
  </author>
  <author>
    <name>harding 2024-01-12 18:04:39.566000+00:00</name>
  </author>
  <author>
    <name>instagibbs 2024-01-12 15:31:36.404000+00:00</name>
  </author>
  <author>
    <name>sdaftuar 2024-01-12 15:04:58.503000+00:00</name>
  </author>
  <author>
    <name>harding 2024-01-12 01:26:13.557000+00:00</name>
  </author>
  <author>
    <name>sdaftuar  . 2024-01-09 22:52:52.578000+00:00</name>
  </author>
  <link href="delvingbitcoin/Jan_2024/1097_An-overview-of-the-cluster-mempool-proposal.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1096_An-overview-of-the-cluster-mempool-proposal.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1095_An-overview-of-the-cluster-mempool-proposal.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1090_An-overview-of-the-cluster-mempool-proposal.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1089_An-overview-of-the-cluster-mempool-proposal.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1087_An-overview-of-the-cluster-mempool-proposal.xml" rel="alternate"/>
  <link href="delvingbitcoin/Jan_2024/1046_An-overview-of-the-cluster-mempool-proposal.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - An overview of the cluster mempool proposal</title>
    <updated>2024-01-13T02:01:43.622764+00:00</updated>
    <link href="https://delvingbitcoin.org/t/an-overview-of-the-cluster-mempool-proposal/393/7" rel="alternate"/>
    <summary>The "carveout" concept in Bitcoin's Lightning Network focuses on easing channel operations with unconfirmed transactions. A "carveout" is a transaction that must be less than 1,000 virtual bytes, have only one unconfirmed parent, no other unconfirmed ancestors, and be one of the first two spent outputs if less than three outputs of the parent are spent. The initial size limit of 10kvB is not essential for this discussion.

Presently, integrating carveouts within cluster mempool structures has proven challenging, as rules only account for transaction ancestry and size. Anchor channels in the LN benefit from carveouts, allowing two spends simultaneously, which prevents misuse by malicious entities.

Carveouts are monitored within mempools by checking compliance with rules such as ancestry verification and counting parent transaction spends. Transactions adhering to all conditions bypass cluster size limits, but this process includes regular reviews to maintain validity.

However, the dynamic nature of mempools complicates maintaining cluster size limits. Unrelated transactions could generate compliant children, leading to potential eviction of transactions or exceeded cluster boundaries. An alternative solution proposes flagging transactions that meet carveout criteria, thus exempting them from cluster size counts or eviction. This approach, though, adds complexity and potential incentive issues.

Discussions consider feerate diagrams' implications on miner earnings and speculate on future research into the significance of mempool positions on potential earnings, though current models assume a zero tail feerate. If further studies suggest a non-zero rate, software changes may reflect this.

Despite the well-intended carveout rule, its application within mempool structures presents challenges. Ongoing developer discussions reveal that while imperfect, continuous improvements are being sought.

The proposed Bitcoin Core mempool upgrade introduces policy changes centered on managing transaction clusters and revising RBF rules. The new system aims to replace ancestor and descendant limits with transaction count and size restrictions within clusters, facilitating easier score updates during mining as clusters grow.

The update requires transactions seeking replacement in the mempool to present higher feerates, potentially making CPFP carveouts redundant. It intends to align transaction eviction and RBF calculations with miner incentives more closely.

A significant change is a fully sorted mempool, streamlining transactions and improving mining selection and eviction efficiency. This reorganization promises to optimize miner transactions, speed up mining, and reduce CPU usage by eliminating ancestor and descendant limits.

For an in-depth understanding, Pieter Wuille (@sipa) provides a detailed examination of the cluster-based mempool approach. An initial draft awaits community feedback, and further refinements are anticipated after additional analysis and benchmarking.</summary>
    <published>2024-01-12T19:27:17.249000+00:00</published>
  </entry>
</feed>
