<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - OP_Expire and Coinbase-Like Behavior: Making HTLCs Safer by Letting Transactions Expire Safely</title>
  <updated>2023-11-07T01:27:30.840312+00:00</updated>
  <author>
    <name>Peter Todd 2023-11-04 07:26:24+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2023-11-03 05:27:54+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2023-11-03 05:25:24+00:00</name>
  </author>
  <author>
    <name>Matt Morehouse 2023-11-02 17:07:39+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-11-02 06:26:38+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2023-11-02 05:24:36+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-23 15:45:44+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-23 15:45:44+00:00</name>
  </author>
  <author>
    <name>ZmnSCPxj 2023-10-23 11:10:56+00:00</name>
  </author>
  <author>
    <name>ZmnSCPxj 2023-10-23 11:10:56+00:00</name>
  </author>
  <author>
    <name>vjudeu at gazeta.pl 2023-10-22 08:30:01+00:00</name>
  </author>
  <author>
    <name>vjudeu at gazeta.pl 2023-10-22 08:30:01+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 10:31:05+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 10:31:05+00:00</name>
  </author>
  <author>
    <name>David A. Harding 2023-10-21 08:58:32+00:00</name>
  </author>
  <author>
    <name>David A. Harding 2023-10-21 08:58:32+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 00:09:16+00:00</name>
  </author>
  <author>
    <name>Peter Todd 2023-10-21 00:09:16+00:00</name>
  </author>
  <link href="lightning-dev/Nov_2023/004189_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Nov_2023/004188_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Nov_2023/004187_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Nov_2023/004186_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Nov_2023/004185_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Nov_2023/004184_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/004174_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/022073_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/022068_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/004173_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/004160_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/022061_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/022051_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/004170_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/022050_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/004159_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/022042_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <link href="lightning-dev/Oct_2023/004163_OP-Expire-and-Coinbase-Like-Behavior-Making-HTLCs-Safer-by-Letting-Transactions-Expire-Safely.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - OP_Expire and Coinbase-Like Behavior: Making HTLCs Safer by Letting Transactions Expire Safely</title>
    <updated>2023-11-07T01:27:30.840437+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-November/004189.html" rel="alternate"/>
    <summary>The correspondence between Peter Todd and Antoine Riard focuses on enhancing the security of the Lightning Network, with particular emphasis on addressing vulnerabilities associated with HTLCs and commitment transactions. OP_Expire is introduced as a solution to force timely reveal of preimages in HTLCs by rendering the preimage path unspendable after a certain block height, thereby allowing the refund branch to be used without interference.

The emails also discuss risks arising from attackers exploiting RBF-enabled low-fee transactions through CPFP fee adjustments. The distinction between anchor and pre-anchor channels in terms of their susceptibility to malleability and network congestion's impact on replacement cycles is highlighted, alongside a vision for future peer-to-peer package relay and anchor outputs for efficient replacement mechanisms.

A cycling attack scenario is described, illustrating the threat posed by attackers manipulating commitment transactions and evicting others from the mempool to claim HTLCs post-timeout. The emails also cover the limitations of using RBF and CPFP in anchor channels and suggest alternatives such as a reverse time-lock mechanism and setting package total fees with fee-bumping reserves to prevent advanced replacement cycling attacks.

A preference for block-height-based expiration over time-based expiration is asserted due to concerns over miner manipulation. Suggestions include redefining an opcode such as "OP_Expire" to provide a true/false stack element without requiring _Verify behavior, correcting earlier oversights related to taproot annexes, and advocating for an explicit "nExpiryHeight" field to avoid signature coverage issues.

An alternate design for the taproot annex is proposed, featuring an "nExpiryTime" field to prevent transactions from existing beyond a certain block height, coupled with the introduction of an "OP_CHECKEXPIRYTIMEVERIFY" opcode for transaction expiration verification. This is aimed at facilitating implementation across various systems by adhering to the principle that explicit details are better than implicit ones.

The main points discussed involve technical proposals to safeguard the Lightning Network against replacement cycling attacks, including the implementation of OP_Expire and the Coinbase Bit soft fork upgrade. These measures are designed to impose time constraints on transactions, ensuring that HTLC-preimage paths are spent with urgency and not valid indefinitely, thus maintaining the integrity and functionality of the Lightning Network.</summary>
    <published>2023-11-04T07:26:24+00:00</published>
  </entry>
</feed>
