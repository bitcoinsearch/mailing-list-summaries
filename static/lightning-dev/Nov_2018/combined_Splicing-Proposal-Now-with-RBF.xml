<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - Splicing Proposal: Now with RBF</title>
  <updated>2023-06-03T20:20:26.117033+00:00</updated>
  <author>
    <name>lisa neigut 2018-11-21 20:43:15</name>
  </author>
  <author>
    <name>ZmnSCPxj 2018-11-16 08:37:07</name>
  </author>
  <author>
    <name>Rusty Russell 2018-11-22 01:29:29</name>
  </author>
  <author>
    <name>Rusty Russell 2018-11-16 04:16:20</name>
  </author>
  <link href="lightning-dev/Nov_2018/001648_Splicing-Proposal-Now-with-RBF.xml" rel="alternate"/>
  <link href="lightning-dev/Nov_2018/001624_Splicing-Proposal-Now-with-RBF.xml" rel="alternate"/>
  <link href="lightning-dev/Nov_2018/001653_Splicing-Proposal-Now-with-RBF.xml" rel="alternate"/>
  <link href="lightning-dev/Nov_2018/001621_Splicing-Proposal-Now-with-RBF.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - Splicing Proposal: Now with RBF</title>
    <updated>2023-06-03T20:20:26.117033+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/001648.html" rel="alternate"/>
    <summary>The email thread discusses the `splice_confirm` function in Lightning Network, with a suggestion that the 'signature' field may not be required as signatures for inputs can be provided through witness stack. However, splicing is risky and may lead to channel closure due to extenuating circumstances like a fee spike. During splicing, each commitment transaction needs to be duplicated for every splice transaction. HTLC's are to be duplicated as well, but it is suggested that CPFP is a neater construction than RBF, as it avoids fee rate negotiation and ballooning HTLC/commitment txn management.ZmnSCPxj proposes that only the initiator of a splice should be allowed to add splice-ins and outs, and once they indicate satisfaction with the splice, the other party can add their own splice-ins and outs. However, RBF adds a new dimension as it requires multiple exclusive splices at once, which will require a lot of testing. ZmnSCPxj suggests defining a dual-funding RBF protocol first to practice for splice RBF.The context also discusses proposed changes in the Replace-By-Fee (RBF) system that have been simplified to add more clarity. Multiple exclusive splices will be required, which will require extensive testing. The initiator should ensure that each splice_input refers to an existing UTXO. A null splice is allowed to reset parameters or discard history. An initiator should ensure that they have adequate funds post-splice above their reserve to pay for the splice transaction at the given feerate_per_kw. The receiver of a splice_init must ensure that they respond to max_htlc_value_in_flight_msat, channel_reserve_satoshis, htlc_minimum_msat, minimum_depth, to_self_delay as specified in accept_channel and must reply with splice_accept. If both nodes advertised the option_upfront_shutdown_script feature and any splice_output that shutdown_scriptpubkey is not equal to script, the connection must fail. To confirm a splice, the sender must set signature to the signature for the splice transaction, remember the details of this splice transaction and send splice_confirm. Once you've sent splice_confirm, each commitment transaction needs to be duplicated for every splice transaction. Finally, there is a suggestion that the option_data_loss_protect fields should be set if option_splice is used.This context also pertains to the Lightning Network protocol and describes two message types: commitment_signed and channel_reestablish. Additionally, if a reconnection occurs between sending and receiving splice_confirm or splice_closed, there is a new field in channel_reestablish to flag that the end considers themselves to be splicing. The channel_reestablish message includes data such as the channel ID, next local commitment number, next remote revocation number, your last per-commitment secret, my current per-commitment point, and option for splicing. If the sender receives this message, they are required to set num_splice to the number of splice_confirm it has received for the current splice operation, or 0 if there is no current splice operation.</summary>
    <published>2018-11-21T20:43:15+00:00</published>
  </entry>
</feed>
