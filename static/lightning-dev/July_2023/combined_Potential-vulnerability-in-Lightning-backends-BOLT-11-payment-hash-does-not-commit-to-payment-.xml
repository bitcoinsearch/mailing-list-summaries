<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - Potential vulnerability in Lightning backends: BOLT-11 "payment hash" does not commit to payment!</title>
  <updated>2023-08-01T01:15:30.015132+00:00</updated>
  <author>
    <name>Martin Habovštiak 2023-07-16 18:11:58+00:00</name>
  </author>
  <author>
    <name>Olaoluwa Osuntokun 2023-07-16 11:32:08+00:00</name>
  </author>
  <author>
    <name>Martin Habovštiak 2023-07-15 20:30:06+00:00</name>
  </author>
  <author>
    <name>fiatjaf 2023-07-13 21:03:11+00:00</name>
  </author>
  <author>
    <name>David A. Harding 2023-07-12 20:04:19+00:00</name>
  </author>
  <author>
    <name>callebtc 2023-07-06 07:22:59+00:00</name>
  </author>
  <author>
    <name>Rusty Russell 2023-07-06 07:10:42+00:00</name>
  </author>
  <author>
    <name>Antoine Riard 2023-06-19 20:34:10+00:00</name>
  </author>
  <author>
    <name>callebtc 2023-06-19 15:26:05+00:00</name>
  </author>
  <link href="lightning-dev/July_2023/004012_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.xml" rel="alternate"/>
  <link href="lightning-dev/July_2023/004010_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.xml" rel="alternate"/>
  <link href="lightning-dev/July_2023/004009_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.xml" rel="alternate"/>
  <link href="lightning-dev/July_2023/004008_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.xml" rel="alternate"/>
  <link href="lightning-dev/July_2023/004007_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.xml" rel="alternate"/>
  <link href="lightning-dev/July_2023/004006_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.xml" rel="alternate"/>
  <link href="lightning-dev/July_2023/004005_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.xml" rel="alternate"/>
  <link href="lightning-dev/June_2023/003986_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.xml" rel="alternate"/>
  <link href="lightning-dev/June_2023/003983_Potential-vulnerability-in-Lightning-backends-BOLT-11-payment-hash-does-not-commit-to-payment-.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - Potential vulnerability in Lightning backends: BOLT-11 "payment hash" does not commit to payment!</title>
    <updated>2023-08-01T01:15:30.015132+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-July/004012.html" rel="alternate"/>
    <summary>The LNbits team has addressed an exploit in their system by patching it in the latest version, 0.10.5. They strongly advise users to update their software promptly to mitigate the risk of similar exploits. This incident highlights the importance of raising awareness about attacks and implementing robust security measures in Lightning applications, especially those related to custodial wallets, payment processors, and account management software.The attack involves manipulating invoices by inserting the payment hash of one payment into a different payment, creating a malicious invoice that tricks the backend into treating it as a legitimate payment. The attacker creates invoice A with a specific amount in LNbits and then creates another invoice B' with a small amount on their own node. By exploiting the invoices, the attacker is able to settle the payment internally by crediting A and debiting B, effectively creating balances out of thin air.To mitigate this exploit, it is recommended that backends use self-generated unique "checking IDs" for internal payment lookups or implement additional checks to ensure that invoice details have not been tampered with. It is important to note that payment hashes only commit to the preimage and not other payment details like the amount or pubkey.This incident showcases the sophistication of attackers who possess a deep understanding of bolt-11 and use custom tools to create malicious invoices. It underlines the need for developers to be aware of potential vulnerabilities and take appropriate measures to prevent similar attacks. Collaboration and information sharing within the Lightning community are crucial in addressing and mitigating security issues.Developers working on Lightning applications should update their software to the latest version and remain vigilant against potential exploits. By implementing additional checks and following best practices, they can strengthen the security of their systems and protect against future attacks.</summary>
    <published>2023-07-16T18:11:58+00:00</published>
  </entry>
</feed>
