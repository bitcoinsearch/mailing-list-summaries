<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>1</id>
  <title>Proposal: Bundled payments</title>
  <updated>2023-07-02T03:11:29.358060+00:00</updated>
  <author>
    <name>Thomas Voegtlin 2023-06-20 08:45:34+00:00</name>
  </author>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>1</id>
    <title>Proposal: Bundled payments</title>
    <updated>2023-07-02T03:11:29.358087+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003988.html" rel="alternate"/>
    <summary>In an email exchange on the Lightning-dev mailing list, Thomas Voegtlin proposes an extension to BOLT-11, the Lightning Network protocol. His proposal suggests allowing invoices to contain two bundled payments with distinct preimages and amounts. The aim is to address the needs of services that require a prepayment of a mining fee for non-custodian exchanges, such as submarine swaps and JIT channels. Currently, some services can ask for a prepayment because their software can handle it, but competitors who do not require a dedicated wallet cannot do the same. This creates a vulnerability where competitors can be subjected to DoS attacks forcing them to pay on-chain fees. In the case of JIT channels, service providers need to ask for the preimage of the main payment before opening the channel, which makes them custodians and subject to regulations. This excludes competitors who refuse to offer custodian services.To solve these issues, Thomas proposes bundling the prepayment and main payment in the same BOLT-11 invoice. The receiver would wait until all HTLCs (Hash Time-Locked Contracts) of both payments have arrived before fulfilling the HTLCs of the prepayment. Once both payments have arrived, the receiver fulfills the HTLCs of the prepayment and broadcasts their on-chain transaction. This change would level the competition field between Lightning service providers and benefit Lightning Labs by potentially offering their Loop service to non-LND (Lightning Network Daemon) users. It would also allow ACINQ to make their pay-to-open service fully non-custodian, avoiding potential regulatory issues. Thomas suggests implementing this change in BOLT-11 rather than using BOLT-12 or onion messages, as it does not require the exchange of new messages.In response to Thomas' proposal, Bastien Teinturier raises the concern that senders would need to be aware that the payment would lead to a channel creation or splice on the receiver's end. He explains three strategies for providing JIT liquidity and mentions that currently deployed strategies do not require senders to be aware of JIT liquidity. Bastien suggests that if 0-conf (zero-confirmation) is still being used until BOLT-12 is deployed, it may be more reasonable to include Thomas' proposed feature in BOLT-12 rather than BOLT-11.Overall, Thomas emphasizes the importance of his proposal in creating a level playing field and its potential impact on the Lightning Network ecosystem.The email also includes contact information for Electrum Technologies GmbH, including their address in Berlin, Germany. It mentions that they are registered with the Amtsgericht Charlottenburg under HRB 164636, and their managing director is Thomas Voegtlin. The purpose of the email seems to be providing information about how to join the Lightning-dev mailing list, as it includes a link to the mailing list hosted on lists.linuxfoundation.org where users can subscribe and access its archives.</summary>
    <published>2023-06-20T08:45:34+00:00</published>
  </entry>
</feed>
