<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>1</id>
  <title>Proposal: Bundled payments</title>
  <updated>2023-07-10T02:54:24.010223+00:00</updated>
  <author>
    <name>Thomas Voegtlin 2023-06-20 08:45:34+00:00</name>
  </author>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>1</id>
    <title>Proposal: Bundled payments</title>
    <updated>2023-07-10T02:54:24.010253+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003988.html" rel="alternate"/>
    <summary>In an email conversation, Thomas Voegtlin proposes an extension to BOLT-11, suggesting that invoices can contain two bundled payments with distinct preimages and amounts. This proposal aims to address the prepayment of mining fees for non-custodian exchanges like submarine swaps and JIT channels. The goal is to level the competition between lightning service providers by bundling the prepayment and main payment in the same invoice.Bastien Teinturier responds to Thomas' proposal, emphasizing the need for senders to be aware of the channel creation on the receiver end. He suggests three strategies for providing just-in-time (JIT) liquidity: asking the receiver for the preimage and a fee, opening a channel and forwarding the HTLC amount minus a fee, or pre-paying the fee and forwarding the whole HTLC amount on that channel. The current strategies used on the network are the first two options, and Bastien also addresses the use of 0-conf and the potential inclusion of the proposed feature in BOLT-12.Matt Corallo expresses skepticism about adding new interoperable changes to BOLT-11, citing the lack of broad support for existing features like amount-less BOLT-11 invoices. He suggests exploring the obviating factors of splice-out and building the proposed feature on onion messages (OMs) for enhanced privacy.Thomas responds to Matt's concerns, emphasizing that the proposed change is minimal and only requires a new invoice feature describing the prepayment of a fee using a different preimage. He suggests making this feature optional during a transition period by defining a new feature bit, introducing two extra fields, and specifying the behavior for senders who do not support the feature. Thomas argues that including the feature in BOLT-11 would benefit Lightning Labs' Loop service and ACINQ's pay-to-open service, making them non-custodian and compliant with the upcoming MICA regulation.Thomas also addresses the distinction between submarine swaps and splice-outs, highlighting the need for receiving capacity in submarine swaps.In conclusion, Thomas believes that bundling prepayment and main payment in BOLT-11 invoices would address issues related to mining fee attacks and custodian services, leveling the competition in the lightning network. He argues for simplicity by implementing the proposal in BOLT-11 rather than using BOLT-12 or onion messages.The email context is a signature of Electrum Technologies GmbH, a company based in Berlin, Germany. The email provides contact information for the company, including the address (Paul-Lincke-Ufer 8d, 10999 Berlin), as well as legal registration details such as the location of registration (Berlin) and the court where it was registered (Amtsgericht Charlottenburg). The company is registered under HRB 164636, which is likely its unique registration number. The email also mentions Thomas Voegtlin as the Geschäftsführer, which translates to managing director or CEO. Additionally, the email includes a link to a mailing list called Lightning-dev. This mailing list is hosted on the lists.linuxfoundation.org domain. The link provided (https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev) leads to a page where users can subscribe to or unsubscribe from the mailing list. It is likely that this mailing list is related to discussions and development related to the Lightning Network, a layer-two scaling solution for Bitcoin. Overall, the email serves as a signature for Electrum Technologies GmbH, providing important contact and legal information about the company, as well as a link to the Lightning-dev mailing list hosted on lists.linuxfoundation.org.</summary>
    <published>2023-06-20T08:45:34+00:00</published>
  </entry>
</feed>
