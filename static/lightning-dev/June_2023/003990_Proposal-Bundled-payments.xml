<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>1</id>
  <title>Proposal: Bundled payments</title>
  <updated>2023-07-05T02:51:48.873030+00:00</updated>
  <author>
    <name>SomberNight 2023-06-20 16:49:05+00:00</name>
  </author>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>1</id>
    <title>Proposal: Bundled payments</title>
    <updated>2023-07-05T02:51:48.873060+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003990.html" rel="alternate"/>
    <summary>In a recent discussion on the Lightning-dev mailing list, ThomasV proposed an extension to BOLT-11 invoices to address vulnerabilities in the current payment system used by Lightning service providers. The proposal suggests adding bundled payments to invoices, which would include two distinct preimages and amounts. This feature would be particularly useful for services like submarine swaps and JIT channels that require prepayments for mining fees. Currently, service providers ask for prepayments to mitigate the risk of clients not claiming payments, but competitors without dedicated wallets cannot do the same. The proposed extension would enable these services to request the necessary prepayment from clients.The process of using a swap service involves the generation of preimages and their hashes by both the user (sender) and the swap service provider (server). The server creates a Lightning invoice that includes both sets of payment hashes and amounts. The sender then provides the invoice to the recipient. In the case of submarine swaps, this involves Alice generating an invoice to receive money on-chain, and Bob wanting to pay that invoice via Lightning. The swap service acts as an intermediary between them. Bob, as a simple Lightning wallet, does not need to know all the details of the swap process but may experience delays due to on-chain transactions being mined.The discussion also touches on the distinction between splice-out and submarine swaps, with submarine swaps allowing the addition of receiving capacity to a channel. The proposal suggests making the new feature optional during a transition period and garnering support from major implementations like Lightning Labs, ACINQ, and Electrum. However, there are challenges in getting broad support for new changes to the protocol.ThomasV's proposal aims to enable invoices with two bundled payments for services like submarine swaps and JIT channels. This would allow service providers to request prepayments for mining fees, mitigating the risk of clients not claiming payments. The proposed extension could be supported by major implementations and would require updating existing sender software. ThomasV argues that implementing bundled payments in BOLT-11 would level the playing field for competition between Lightning service providers and potentially help ACINQ avoid regulatory concerns. He suggests implementing these changes in BOLT-11 rather than introducing new protocols to streamline the implementation process.</summary>
    <published>2023-06-20T16:49:05+00:00</published>
  </entry>
</feed>
