<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>1</id>
  <title>Proposal: Bundled payments</title>
  <updated>2023-06-29T02:57:44.167569+00:00</updated>
  <author>
    <name>Steve Lee 2023-06-20 17:16:52+00:00</name>
  </author>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>1</id>
    <title>Proposal: Bundled payments</title>
    <updated>2023-06-29T02:57:44.167592+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003992.html" rel="alternate"/>
    <summary>In an email exchange, Thomas Voegtlin from Electrum expressed his interest in implementing BOLT-12 support in their software and asked for clarification on whether bundled payments would work with the current BOLT-12 specification or if changes would be required. Bastien TEINTURIER responded to Thomas, highlighting the importance of updating sender software for the proposal, which requires senders to be aware of channel creation or splicing on the receiver end. They suggested that extending BOLT-12 would make more sense than updating BOLT-11 due to the need for new sender code.Bastien outlined three strategies for providing JIT (Just-in-Time) liquidity and explained that the current network deployment includes strategies 1 and 2, where the sender doesn't need to be aware of JIT liquidity. They also discussed the use of prepayment fees and the potential for making them optional during a transition period.Thomas Voegtlin supported the proposal and mentioned the incentive for Lightning Labs to potentially offer their Loop service to non-LND users. He also highlighted the benefits for ACINQ to open channels to Phoenix users without requiring the preimage first, which would comply with upcoming MICA regulation. Thomas suggested a new invoice feature for prepayment of a fee using a different preimage, which could be made optional during a transition period through defined fields and the support of a new feature bit. He emphasized the small nature of this proposed change and how it would address trust and regulation concerns.Matt Corallo expressed doubts about introducing new interoperable changes to BOLT-11 and the likelihood of broad support. He mentioned the challenges faced in getting amount-less BOLT-11 invoices widely adopted and questioned the necessity of the proposed change, suggesting that splice-out could obviate the need. Matt also raised the idea of building the change on OMs (Opaque Messages) to enhance privacy.In a separate email, Thomas Voegtlin proposed an extension to BOLT-11, allowing invoices to contain two bundled payments with distinct preimages and amounts. He explained the use case for services that require prepayment of a mining fee for non-custodian exchanges like submarine swaps and JIT channels. Thomas discussed the vulnerabilities faced by competitors who cannot ask for prepayment due to their agnostic wallet software and the legal implications of becoming custodians under European MICA regulation. He suggested bundling the prepayment and main payment in the same BOLT-11 invoice to level the playing field among lightning service providers. Thomas acknowledged that this change wouldn't prevent service providers from stealing the prepayment but argued that it would benefit competition and enable ACINQ to make their pay-to-open service fully non-custodian.Overall, the discussions revolved around the proposal to extend BOLT-11 or introduce changes in BOLT-12 to accommodate bundled payments, address trust and regulation concerns, and improve competition among lightning service providers.In a recent discussion on the lightning-dev mailing list, ThomasV proposed a method for achieving a use case without the need for new messages. Specifically, he suggested using BOLT-11 instead of BOLT-12 or onion messages, as he believes adding new messages would unnecessarily complicate things. This proposal received some initial feedback suggesting the use of BOLT-12 or OM, but ThomasV argued that a non-interactive approach would be more efficient.ThomasV is the Geschäftsführer of Electrum Technologies GmbH, a company based in Berlin, Germany. The company's address is Paul-Lincke-Ufer 8d, 10999 Berlin. It is registered with the Amtsgericht Charlottenburg under HRB 164636.The lightning-dev mailing list is maintained by the Linux Foundation and serves as a platform for discussions related to Lightning Network development. Users can subscribe to the mailing list and participate in the discussions by visiting the following link: https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev.</summary>
    <published>2023-06-20T17:16:52+00:00</published>
  </entry>
</feed>
