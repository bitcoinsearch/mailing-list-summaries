<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>1</id>
  <title>Proposal: Bundled payments</title>
  <updated>2023-07-13T02:59:08.209348+00:00</updated>
  <author>
    <name>Steve Lee 2023-06-20 17:16:52+00:00</name>
  </author>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>1</id>
    <title>Proposal: Bundled payments</title>
    <updated>2023-07-13T02:59:08.209382+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003992.html" rel="alternate"/>
    <summary>In an email exchange, Thomas Voegtlin, the creator of Electrum, expressed his interest in implementing BOLT-12 support in Electrum. He asked for clarification on whether bundled payments would work with the current BOLT-12 specification or if changes would be required. Thomas believed that it would take years for BOLT-12 to become the dominant payment method on Lightning, but if the feature was adopted in BOLT-11, it could be deployed much faster.Bastien Teinturier responded by pointing out that Thomas' proposal would require senders to be aware of channel creation or splice on the receiver's end. He suggested that extending BOLT-12 would make more sense since it already requires new sender code. Bastien discussed three strategies for providing Just-In-Time (JIT) liquidity and explained that strategies 1 and 2, which are currently deployed, have the advantage of not requiring senders to be aware of JIT liquidity. However, if trust and regulation are concerns, strategy 2 combined with zero-conf could work.Thomas agreed that pre-paying fees would make more sense if zero-conf is no longer used. He recommended including the new feature in BOLT-12 rather than BOLT-11 since all implementations are actively working on BOLT-12. He responded to Matt Corallo's suggestion that it may be difficult to introduce a new change to BOLT-11 by stating that he believes it is not too late to add a new feature and that technical decisions should be dictated by technical needs. Thomas mentioned that Lightning Labs and ACINQ would potentially benefit from supporting his proposal.Thomas also clarified the distinction between splice-out and submarine swaps, stating that submarine swaps allow adding receiving capacity to a channel. In his initial proposal, Thomas mentioned the need for an extension to BOLT-11 to allow invoices to contain two bundled payments with distinct preimages and amounts. This extension would benefit services that require prepayment of mining fees for non-custodian exchanges, such as submarine swaps and JIT channels.Thomas highlighted the vulnerability of services like Boltz exchange to DoS attacks where the attacker forces them to pay on-chain fees. He also discussed the legal implications of asking for the preimage first in JIT channels, which could make the service custodian and subject to European MICA regulation. Thomas proposed bundling the prepayment and main payment in the same BOLT-11 invoice and explained the semantics of bundled payments. He acknowledged that the proposal does not prevent service providers from stealing the prepayment but argued that it would level the playing field for competition between Lightning service providers. Thomas also suggested that ACINQ could benefit from the proposal by making their pay-to-open service fully non-custodian and avoiding regulation issues.In a recent email thread on the Lightning-dev mailing list, ThomasV of Electrum Technologies GmbH shared his proposal for a non-interactive method to achieve some use cases involving BOLT-11 invoices. He mentioned that his proposal does not require the exchange of new messages and that he believes adding new messages through BOLT-12 or onion messages would unnecessarily complicate things.The email thread also included ThomasV's contact information and company details: Electrum Technologies GmbH, located at Paul-Lincke-Ufer 8d, Berlin, Germany. The company is registered at the Amtsgericht Charlottenburg, with the HRB 164636. Thomas Voegtlin is the Geschäftsführer (Managing Director) of the company.The Lightning-dev mailing list is hosted by the Linux Foundation, and interested parties can subscribe to the list or access the archives through the provided link: https://lists.linuxfoundation.org/mailman/listinfo/lightning-dev.</summary>
    <published>2023-06-20T17:16:52+00:00</published>
  </entry>
</feed>
