<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>1</id>
  <title>Proposal: Bundled payments</title>
  <updated>2023-07-07T02:52:02.635944+00:00</updated>
  <author>
    <name>Thomas Voegtlin 2023-06-20 07:32:15+00:00</name>
  </author>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>1</id>
    <title>Proposal: Bundled payments</title>
    <updated>2023-07-07T02:52:02.635974+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2023-June/003987.html" rel="alternate"/>
    <summary>In a recent email exchange between Thomas Voegtlin and David A. Harding, they discuss the idea of bundling payments in BOLT11 invoices. Thomas expresses interest in the idea, noting that it would save space for the prepayment hash. However, he suggests that the invoice should still include a feature bit to allow the receiver to decide whether prepayment should be optional or required.Thomas explains that if the feature is optional, the prepayment amount should be subtracted from the main payment amount. Using an example, he states that Alice would expect to receive either 1 BTC with the invoice payment hash, or 1 BTC minus 10k sats with the invoice payment hash, along with 10k sats sent via keysend with the prepayment hash.In response, David asks if it would be acceptable for the prepayment to use a keysend payment instead of a payment hash in the BOLT11 invoice. He suggests that the onion message payload could indicate what payment hash to associate with the prepayment. This approach would require extending the BOLT11 invoices with an extra_fee_via_keysend field, which could be encoded in existing fields like description or metadata.Overall, the discussion revolves around the technical implementation of bundled payments in BOLT11 invoices, considering the inclusion of prepayment options and the use of keysend payments.</summary>
    <published>2023-06-20T07:32:15+00:00</published>
  </entry>
</feed>
