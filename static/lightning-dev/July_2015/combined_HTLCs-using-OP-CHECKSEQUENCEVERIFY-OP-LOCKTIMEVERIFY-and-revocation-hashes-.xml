<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>2</id>
  <title>Combined summary - HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes.</title>
  <updated>2023-05-18T01:47:28.007582+00:00</updated>
  <author>
    <name>Anthony Towns 2016-02-10 16:50:49</name>
  </author>
  <author>
    <name>Anthony Towns 2016-02-09 08:59:56</name>
  </author>
  <author>
    <name>Anthony Towns 2015-07-23 05:07:33</name>
  </author>
  <link href="lightning-dev/Feb_2016/000441_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.xml" rel="alternate"/>
  <link href="lightning-dev/Feb_2016/000437_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.xml" rel="alternate"/>
  <link href="lightning-dev/July_2015/000054_HTLCs-using-OP-CHECKSEQUENCEVERIFY-OP-LOCKTIMEVERIFY-and-revocation-hashes-.xml" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>2</id>
    <title>Combined summary - HTLCs using OP_CHECKSEQUENCEVERIFY/OP_LOCKTIMEVERIFY and revocation hashes.</title>
    <updated>2023-05-18T01:47:28.007582+00:00</updated>
    <link href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-February/000441.html" rel="alternate"/>
    <summary>The email conversation between CJP and Rusty Russell discusses the scenario where Alice and Eve are connected with two channels, and Eve performs a payment to herself routed through these two channels. The delay parameter for both channels is set at the value "D" and Alice's commitments include a fee that she expects will result in confirmation in less than a delay of "F". HTLCs are also involved where Eve pays Alice $X on receipt of R, CLTV at time T, and Alice pays Evelyn $X on receipt of R, CLTV at time T'. When forwarding the HTLC, Alice calculates T' such that T' = now + D + F. If Eve does not send Alice a commit transaction update and becomes unresponsive on the channel, Alice should start the timer ticking and broadcast her commit transaction containing the HTLC before its CLTV times out. In his email, Rusty Russell talks about the commitment transaction maintained by each side with two outputs: one paying to self (with some delay), and the second paying to the other side. To generate hash time-locked contracts required for lightning to be a network, both commitment transactions get an additional output per HTLC. This output is spendable under four conditions: the recipient knows the R value (funds go to recipient), the HTLC has timed out (funds return to initiator), the HTLC has been revoked (funds go to "non-cheating" side) or the Commit transaction has been revoked (funds go to "non-cheating" side). The last two failure modes are separate from each other because HTLCs have different lifetimes from commit transactions. Anthony Towns provides scripts for the HTLC from US to THEM and from THEM to US. Overall, the emails discuss the scenario where Alice and Eve are connected with two channels and the use of hash time-locked contracts that are essential for lightning to be a network.</summary>
    <published>2016-02-10T16:50:49+00:00</published>
  </entry>
</feed>
