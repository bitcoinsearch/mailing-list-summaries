{
    "id": "bitcointranscripts+bitcoin-explained+bitcoin-core-v23",
    "title": "Bitcoin Core 23.0",
    "body_formatted": "{\"type\":\"heading\",\"text\":\"Intro\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:00:20\"}, {\"type\":\"paragraph\",\"text\":\"Live from Utrecht, this is Bitcoin Explained.\\nSjors, are we still making a bi-weekly podcast?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:00:28\"}, {\"type\":\"paragraph\",\"text\":\"I mean, it depends on what you mean by bi.\\nIt's more like a feeling, right?\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:00:32\"}, {\"type\":\"paragraph\",\"text\":\"We make a podcast when we feel about it these days.\\nIs that the rule?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:00:36\"}, {\"type\":\"paragraph\",\"text\":\"No, it's also when we're not traveling or sick or whatever.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:00:40\"}, {\"type\":\"paragraph\",\"text\":\"Or we don't have a good idea for a podcast.\\nThis is a good moment actually to maybe make a call to our audience.\\nWe will take requests for topics, or at least we will consider requests for topics.\\nIf any of our listeners have good ideas of things that they want to have explained by us, just let us know on Twitter, and we will consider it.\\nAll right.\\nSo, the last one was, I guess, a month ago.\\nI don't know when this one will be published because I think our editor is now traveling.\\nHe's in Amsterdam.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:01:12\"}, {\"type\":\"paragraph\",\"text\":\"Oh, okay.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:01:12\"}, {\"type\":\"paragraph\",\"text\":\"He's coming to our meetup tonight.\\nWe're recording this on Wednesday, what is it?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:01:17\"}, {\"type\":\"paragraph\",\"text\":\"Wednesday, 20th of April.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:01:19\"}, {\"type\":\"paragraph\",\"text\":\"And that will be the biggest meetup in all of Europe in Amsterdam tonight, Sjors.\\nIsn't that exciting?\\nWe recently discovered that it's probably the biggest one in Europe, so now that's our main marketing push.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:01:31\"}, {\"type\":\"paragraph\",\"text\":\"Interesting.\\nI guess that's because there's nothing happening in Prague at the moment?\\nBecause they have pretty big meetups.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:01:36\"}, {\"type\":\"paragraph\",\"text\":\"We didn't fact-check it, but I think it's the biggest one in Europe.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:01:42\"}, {\"type\":\"paragraph\",\"text\":\"But you mean the biggest Bitcoin meetup, which then meets some narrow definition of Bitcoiner or Bitcoin.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:01:49\"}, {\"type\":\"paragraph\",\"text\":\"Just the biggest Bitcoin meetup we know of.\\nI don't think we're doing very narrow definitions.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:01:54\"}, {\"type\":\"paragraph\",\"text\":\"There's Bitcoin Wednesday, which has nothing to do with Bitcoin.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:01:58\"}, {\"type\":\"paragraph\",\"text\":\"Right.\\nYeah, that's also in Amsterdam.\\nI mean, is that bigger than ours?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:02:02\"}, {\"type\":\"paragraph\",\"text\":\"I don't know.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:02:03\"}, {\"type\":\"paragraph\",\"text\":\"Who knows?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:02:03\"}, {\"type\":\"paragraph\",\"text\":\"Could be.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:02:04\"}, {\"type\":\"paragraph\",\"text\":\"All right, let's get to the actual meat of this episode.\\nWe are going to discuss Bitcoin Core 23, and we'll probably have this published on the day that it is released because that's what we're going to be discussing.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:02:19\"}, {\"type\":\"paragraph\",\"text\":\"That's always a bit of a risky statement because it can take a while before it gets released.\\nBut hopefully, it'll be at the same time.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:02:25\"}, {\"type\":\"paragraph\",\"text\":\"At the time we're recording this, we're on release candidate 5.\\nI don't think there have been many Bitcoin Core releases that required more than five release candidates, right?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:02:34\"}, {\"type\":\"paragraph\",\"text\":\"Indeed.\"}, {\"type\":\"heading\",\"text\":\"Bitcoin Core Release Candidates\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:02:35\"}, {\"type\":\"paragraph\",\"text\":\"This is not in the show notes, but maybe that's a good starting point.\\nSjors, what is actually a release candidate?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:02:43\"}, {\"type\":\"paragraph\",\"text\":\"It's a candidate for a release, to put it simply.\\nIt's a way for the Bitcoin Core developers or any software project to allow experienced users to test the software.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:02:58\"}, {\"type\":\"paragraph\",\"text\":\"Right, and what are they testing it for?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:03:00\"}, {\"type\":\"paragraph\",\"text\":\"Well, they're testing something that's going to be as close to the final version as possible.\\nIn fact, the very last release candidate is eventually copied and called the actual release.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:03:08\"}, {\"type\":\"paragraph\",\"text\":\"In this case, release candidate 5.\\nI think they're basically guys like you, Bitcoin Core developers and other expert users maybe, they're sort of trying out the software, looking for bugs.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:03:24\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, exactly, or changes that are not correctly documented.\\nFor example, if you're running a Bitcoin ATM or something, and you're relying on a Bitcoin Core node to do all sorts of automated stuff, then you would test the new release candidate to make sure that all the automated stuff you were relying on still works and there's not some subtle change that causes your ATM to send free money to its users.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:03:44\"}, {\"type\":\"paragraph\",\"text\":\"Right.\\nThat lasts for about a week, and then, if no issues are found, the latest release candidate is essentially rebranded to whatever the new Bitcoin Core release is.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:03:54\"}, {\"type\":\"paragraph\",\"text\":\"An actual new release is made, but it has the same code.\\nThe only thing that changes then is the version number.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:04:02\"}, {\"type\":\"paragraph\",\"text\":\"Okay.\\nSo Bitcoin Core 23, that's where we're at.\\nFor those who don't know, Bitcoin Core releases a new version roughly every six months.\\nAnd the new Bitcoin Core release will basically include whatever was ready at that time.\\nBitcoin Core doesn't wait for specific futures; once every six months, whatever's ready is in there.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:04:26\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, that's right.\"}, {\"type\":\"heading\",\"text\":\"Bitcoin Core choice of communication ports\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:04:27\"}, {\"type\":\"paragraph\",\"text\":\"Okay, so we're going to discuss some of the most notable changes.\\nLet's begin.\\nSjors, we're going to begin with something about ports?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:04:45\"}, {\"type\":\"paragraph\",\"text\":\"Yes.\\nAs you may or may not know, Bitcoin Core listens to other nodes, if it's on a public network, on port 8333.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:04:52\"}, {\"type\":\"paragraph\",\"text\":\"By listening, you basically mean communicating with, right?\\nOr what's more?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:04:59\"}, {\"type\":\"paragraph\",\"text\":\"Listening means that it is listening to the outside world.\\nSo you can actually connect to it if you're in the outside world.\\nA node could also just be on the internet but not listen to anyone in the world.\\nSo you might not know where it is, and even if you send a message to it, it won't hear you.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:05:12\"}, {\"type\":\"paragraph\",\"text\":\"Right, so if I'm running a Bitcoin Core node and it's a listening node, which is like a setting?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:05:17\"}, {\"type\":\"paragraph\",\"text\":\"It's actually the default.\\nHowever, in your home situation, it won't listen by default.\\nThat's not because of a setting in Bitcoin Core, but other reasons we'll probably get into.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:05:26\"}, {\"type\":\"paragraph\",\"text\":\"We'll get into that in a bit.\\nBut essentially, if I'm running a Bitcoin Core listening node- let's just call it that for now- and you're also running a node, and you want to communicate with my node, then you're going to connect with my node on port 8333, right?\\nSo far so good?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:05:44\"}, {\"type\":\"paragraph\",\"text\":\"That's right.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:05:45\"}, {\"type\":\"paragraph\",\"text\":\"Okay, so what is a port?\\nWhat does this actually mean?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:05:49\"}, {\"type\":\"paragraph\",\"text\":\"A port is part of the TCP protocol, the TCP/IP protocol, basically.\\nThe idea is an IP address is where the computer is.\\nThat's what it tells you.\\nThe port is actually just a thing inside of the messages that you're sending to it.\\nThe internet uses packages, and these packages have a certain structure.\\nThe beginning of the package says which port you want to communicate on.\\nIt's just a convention, a kind of a way to talk to different services on the same machine.\\nOne server on the Internet might run a web server, an email server, and a Bitcoin node.\\nOne convention you'll use is if you want to talk to the web server, talk to port 80 or port 443.\\nIf you want to talk to the FTP server, talk to port 21.\\nIf you want to talk to the Bitcoin node, talk to port 8333.\\nSo it's like if you're sending somebody a letter and you write down the number of the office they're in.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:06:51\"}, {\"type\":\"paragraph\",\"text\":\"Or the name, in that case.\\nThere are several people living on the same address, and then the name actually specifies who it's for.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:06:59\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, maybe, too.\\nThese are conventions.\\nIP addresses are a scarce resource; they're distributed across the world.\\nSo, there are some centralization involved there.\\nBut when it comes to ports, there are standards and conventions out there, but your machine decides what it does on which port because nobody on the outside can tell you what to do.\\nIt's just a very bad idea to use the wrong port.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:07:21\"}, {\"type\":\"paragraph\",\"text\":\"When your computer connects with my computer, it tells my computer I'm going to use port 8333, which is just a conventional specification of something we chose.\\nAnd at that point, my computer knows he wants to connect to Bitcoin Core, right?\"}, {\"type\":\"heading\",\"text\":\"Port Filtering\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:07:38\"}, {\"type\":\"paragraph\",\"text\":\"Yes, because Bitcoin Core told your computer that it wants to listen on that port.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:07:42\"}, {\"type\":\"paragraph\",\"text\":\"That's the convention, but there's a problem with this?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:07:49\"}, {\"type\":\"paragraph\",\"text\":\"Yeah.\\nOne thing is that internet providers and others can filter the internet traffic.\\nOne way you can filter the internet traffic is by looking at which port a package is going to.\\nIt's very easy to see; it's at the start of each package.\\nAnd you usually have to check that anyway for other reasons.\\nOne thing an internet provider could do is to say \\\"we don't like Bitcoin, let's just block port 8333 specifically\\\".\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:08:13\"}, {\"type\":\"paragraph\",\"text\":\"So, in a Bitcoin-hostile future, where perhaps Bitcoin is banned, and ISPs want to stop people from using Bitcoin, this would be one way for them to do it.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:08:25\"}, {\"type\":\"paragraph\",\"text\":\"Yes, this would be the easiest, the lowest-hanging fruit way to do it.\\nIt's certainly not a very effective way to do it, but it's one start.\\nCertainly not the only thing they can do.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:08:35\"}, {\"type\":\"paragraph\",\"text\":\"And the reason it's not very effective is because we have the option to use different ports.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost:\"}, {\"type\":\"paragraph\",\"text\":\"Exactly.\\nThat's the cat and mouse game.\\nIf they make that move, then the second move is we start using other ports.\\nBut in order to prepare for that situation, one of the changes that are in the new version is that Bitcoin nodes will connect to other nodes that have a different port.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:08:59\"}, {\"type\":\"paragraph\",\"text\":\"So they don't do that now?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:09:00\"}, {\"type\":\"paragraph\",\"text\":\"They will do it if you tell it to, but one thing we talked about in the earlier episode is that your node keeps a list of other nodes that it could connect to, and from that list, it tends to pick nodes that have port 8333 and only if that fails after a long time, then it'll try other ports.\\nThat's the preference that's being removed now.\\nIt'll just try any other node, regardless of what port it has, which means that if we move to a future where nodes are listening on different ports, it's going to be less friction.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:09:30\"}, {\"type\":\"paragraph\",\"text\":\"So, right now, you're running a node.\\nBy default, your node will try to connect to other nodes and prioritize port 8333 nodes.\\nSo, if I'm running a node on another port, and everyone is like you, then I will just not have any inbound connections from other nodes because everyone's ignoring me because I'm not using 8333.\\nIs that right?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:09:52\"}, {\"type\":\"paragraph\",\"text\":\"Yeah.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:09:53\"}, {\"type\":\"paragraph\",\"text\":\"And this is changing now.\\nThis changes in the new Bitcoin Core, where you won't prioritize 8333.\\nYou'll connect to whatever node.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:10:03\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, exactly.\\nThere is, I think, a list of ports that we don't connect to because it could be perceived as an attack.\\nBut I think that list is pretty short.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:10:13\"}, {\"type\":\"paragraph\",\"text\":\"So this is basically preparing for a potential dystopian future where Bitcoin is very much...\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:10:19\"}, {\"type\":\"paragraph\",\"text\":\"Bitcoin is always preparing for a potentially dystopian future.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:10:22\"}, {\"type\":\"paragraph\",\"text\":\"And it should, yeah.\\nBut just to clarify that for the listener.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:10:26\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, but also, to clarify this, this is not going to make a difference.\\nIt's just one chess move, and the countermove is pretty obvious.\\nThere are all sorts of ways for internet providers to see that you're running a Bitcoin node, not just the port you're on.\\nBut that's the easiest way, and, you know, enemies are lazy.\"}, {\"type\":\"heading\",\"text\":\"CJDNS\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:10:43\"}, {\"type\":\"paragraph\",\"text\":\"Okay, well, so that covers that change, correct?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:10:46\"}, {\"type\":\"paragraph\",\"text\":\"Yeah.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:10:47\"}, {\"type\":\"paragraph\",\"text\":\"All right.\\nLet's move on to the next point.\\nCJDNS.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:10:58\"}, {\"type\":\"paragraph\",\"text\":\"I have no idea what it really is, to be honest.\\nIt's in the list of Tor and I2P that we talked about.\\nIt's not a complete replacement of these things, but it's sort of similar-ish.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:11:11\"}, {\"type\":\"paragraph\",\"text\":\"It's some kind of anonymity network that you can use if you want to use the internet more privately.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:11:17\"}, {\"type\":\"paragraph\",\"text\":\"Exactly.\\nIf you know what that is, now you can use it with Bitcoin Core.\\nI think that will be the first step to put it.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:11:25\"}, {\"type\":\"paragraph\",\"text\":\"So, Bitcoin Core has included support for CJDNS.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:11:30\"}, {\"type\":\"paragraph\",\"text\":\"That's right.\\nA couple of episodes ago, we talked about the address gossip messages.\\nWe discussed how we used to be able to communicate IPv4 addresses, IPv6 addresses, and Tor v2 addresses, and how it wasn't possible to communicate Tor V3 addresses because they were too long.\\nThey come up with a new standard called address message format number two, which allows you to send addresses of very different sizes and easily add new networks to that.\\nThis is just one of the new networks that's added to it.\\nYou can just use it, you can also gossip them around and things like that.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:12:08\"}, {\"type\":\"paragraph\",\"text\":\"Details about CJDNS itself is not something that we can provide to the listener.\\nThat's outside of my expertise, and I think outside of yours as well.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:12:22\"}, {\"type\":\"paragraph\",\"text\":\"Yeah.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:12:23\"}, {\"type\":\"paragraph\",\"text\":\"Okay.\\nBitcoin Core supports a new privacy or is it new?\\nDo you know if it's new?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:12:28\"}, {\"type\":\"paragraph\",\"text\":\"I don't think it's new.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:12:29\"}, {\"type\":\"paragraph\",\"text\":\"It just supports an additional privacy network if you want to use it.\\nGreat.\\nI like it.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:12:38\"}, {\"type\":\"paragraph\",\"text\":\"Next.\"}, {\"type\":\"heading\",\"text\":\"RBF transactions and fee estimation algorithm\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum:\"}, {\"type\":\"paragraph\",\"text\":\"There's an upgrade in the fee estimation algorithm in Bitcoin Core.\\nWhenever you want to make a transaction, Bitcoin Core has the option to increase or decrease the fee depending on how fast you want your transaction to confirm, which depends on how many transactions are in the mempool or how high the fees were in recent blocks.\\nI think these are some of the inputs.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:13:09\"}, {\"type\":\"paragraph\",\"text\":\"It looks at how high fees were in recent blocks, but it also checks how long it took before it first saw it in the mempool and when it was in a block.\\nI'm not exactly sure.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:13:22\"}, {\"type\":\"paragraph\",\"text\":\"That has been upgraded to include RBF, replaced by fee transactions.\\nIs that right?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:13:29\"}, {\"type\":\"paragraph\",\"text\":\"You could call it an upgrade.\\nInitially, it would just consider all transactions in the mempool.\\nWhen RBF was introduced, it was decided to ignore those RBF fee bumps.\\nA fee bump is when you increase the fee of an existing transaction.\\nIn the beginning developers were not sure whether miners would actually play along with that game, actually replace the transactions.\\nBecause they weren't sure about that, it was a bit risky to take those fees into account because you didn't know if those fees actually mattered or not.\\nBut they do, and more people are using RBF.\\nNow, the fee estimation takes into account the fees of the transactions whose fee was bumped.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:14:12\"}, {\"type\":\"paragraph\",\"text\":\"To be very clear, the fees and RBF transactions we're talking about here are essentially other people's RBF transactions.\\nTo reiterate that really quickly, RBF, you send a transaction, and it's taking longer to confirm than you anticipated, or for some reason, you're in more of a rush all of a sudden.\\nYou have the option to resend the same transaction to the network but include a higher fee this time.\\nThe newer transaction should override the older transaction, the miners should pick that one because it has a higher fee, essentially.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:14:51\"}, {\"type\":\"paragraph\",\"text\":\"Exactly.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:14:53\"}, {\"type\":\"paragraph\",\"text\":\"Then the transactions that are going to be confirmed in blocks essentially have higher fees now if all miners will adopt or accept these RBF transactions.\\nTherefore, your own transaction, if you're going to send it, would also require a bit of a higher fee, and that's now taken into account.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:15:11\"}, {\"type\":\"paragraph\",\"text\":\"Yeah.\\nThe one nuance there is not necessarily that fees will actually go up, because people will make more conservative estimates and then increase them.\\nSo effectively fees might be lower.\\nBut you have to take them into account.\\nYou have to look at what transactions actually go into the block.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:15:28\"}, {\"type\":\"paragraph\",\"text\":\"Let's say I want to have my transaction confirmed within 24 hours.\\nNow that RBF transactions from other people are taken into account, should this mean that my fee estimation will be slightly higher now?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:15:48\"}, {\"type\":\"paragraph\",\"text\":\"That's what I thought yesterday too, but now I think that's not actually true.\\nBecause RBF transactions, what it's saying is it's now including transactions that have been fee bumped.\\nBut I don't know if it previously excluded those transactions or excluded transactions that were using the RBF flag but were not fee-bumped.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:16:08\"}, {\"type\":\"paragraph\",\"text\":\"I don't get that at all.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:16:13\"}, {\"type\":\"paragraph\",\"text\":\"There's three kinds of transactions.\\nThere's transactions that don't use RBF at all.\\nThere's transactions that set the RBF flag but don't bump the fee.\\nAnd there's transactions that now have a higher fee.\\nThe transactions that now have a higher fee are always higher than the ones that don't.\\nSo yeah, I guess you're right.\\nIt would increase the fee estimate slightly.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:16:33\"}, {\"type\":\"paragraph\",\"text\":\"It would have to, right?\\nThere's no way it can be lower if it's going to take into account RBF transactions.\\nIt might stay the same in some cases.\\nIt's either the same or higher.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:16:44\"}, {\"type\":\"paragraph\",\"text\":\"It depends.\\nIf it was discounting all RBF transactions, regardless of whether the fee was bumped or not, then it's different.\\nBecause if the algorithm was only looking at transactions that don't have the RBF flag at all, and now it's also looking at transactions that do have the RBF flag, those might be all systematically lower.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:17:00\"}, {\"type\":\"paragraph\",\"text\":\"That would be a strange policy if that was the case.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:17:05\"}, {\"type\":\"paragraph\",\"text\":\"It may be, but that would be a good reason to revert it.\\nWe should have read the pull request a bit better.\\nYou can do so yourself.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:17:11\"}, {\"type\":\"paragraph\",\"text\":\"In either case, that's a detail.\\nThe important thing is that RBF transactions are now taken into account for fee estimation.\\nTo summarize that in one sentence, fee estimation should be a bit better now.\"}, {\"type\":\"heading\",\"text\":\"User-space Statistically Defined Tracing (USDT)\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:17:28\"}, {\"type\":\"paragraph\",\"text\":\"Let's talk about Tether.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:17:28\"}, {\"type\":\"paragraph\",\"text\":\"Sjors, do you want to talk about Tether?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost:\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, is it actually Tether?\\nUSDC?\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum:\"}, {\"type\":\"paragraph\",\"text\":\"Oh, you know, that's another one, right?\\nTether should be USDT or something like that.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:17:44\"}, {\"type\":\"paragraph\",\"text\":\"Well, Anyway, oh, it is USDT.\\nI actually just wrote it wrong in the show notes.\\nYeah, it's USDT, but it doesn't stand for tether.\\nIt stands for user-space statically defined tracing for Bitcoin Core.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:17:55\"}, {\"type\":\"paragraph\",\"text\":\"Aha, it's only now that I understand your pun.\\nI made a pun in the show notes.\\nThat's great.\\nWe're back to puns.\\nWe need more puns in our show but make the pun again because maybe people didn't get it.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:18:08\"}, {\"type\":\"paragraph\",\"text\":\"No, that's fine.\\nThey can re-listen to the episode.\\nAnd I ruined it anyway.\\nThe basic idea here is that I don't really understand the basic idea.\\nTracepoints are tools that developers can use, but also people who want to monitor their own nodes can use to get really fine-grade statistics out of their nodes.\\nFor example, you can ask your node for things.\\nYou can call the node RPC and ask for the list of blocks or peers you have.\\nThere's RPC call for that.\\nYou can also read log files, and that tells you something.\\nThis (USDT) is just another way to get more detailed information.\\nOne of the details you can get is every message that every node ever sends to you.\\nAll of your peers keep sending you all sorts of messages, and now there's a better tool that you can use to track those messages in a database.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:19:01\"}, {\"type\":\"paragraph\",\"text\":\"Let's break this down a little bit.\\nThis sounds like something useful for developers specifically, right?\\nOr is this something users are gonna use for some reason?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:19:15\"}, {\"type\":\"paragraph\",\"text\":\"I would say developers, but also say researchers.\\nJameson Lopp, for example, when he does all these analyses of whatever's going on, he could use this, or security researchers might find this interesting because they could run a bunch of nodes and check all the message traffic that's coming at those nodes and maybe identify attacks by something subtle.\\nWe talked about an attack on the Bitcoin peer-to-peer network a few episodes ago, where people were announcing fake nodes.\\nThat's something you probably wouldn't be able to detect if you just start your Bitcoin Core GUI; it doesn't get hot or scream at you.\\nYet, there is an attack going on.\\nThese kinds of tools would make it much easier to see that this attack is going on.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:19:59\"}, {\"type\":\"paragraph\",\"text\":\"One small step back, just for my own understanding and the listeners' as well, since they're listening, hopefully.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:20:07\"}, {\"type\":\"paragraph\",\"text\":\"That's why we explain things.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:20:08\"}, {\"type\":\"paragraph\",\"text\":\"First of all, you just mentioned log files.\\nA log file basically keeps track of every action your Bitcoin Core node does.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:20:19\"}, {\"type\":\"paragraph\",\"text\":\"Depending on how you configure it, you can tell it to keep track of quite a lot of detail, yes.\\nBut it's just a long text file, and each line starts with the timestamp, and then it says, \\\"Okay, this happened, okay, this happened\\\"\\nIf you want to process that data, it can be quite tedious.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:20:34\"}, {\"type\":\"paragraph\",\"text\":\"Right.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:20:35\"}, {\"type\":\"paragraph\",\"text\":\"And not everything goes into the log file either.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:20:37\"}, {\"type\":\"paragraph\",\"text\":\"Okay.\\nBut this was already possible.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost:\"}, {\"type\":\"paragraph\",\"text\":\"Yes.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum:\"}, {\"type\":\"paragraph\",\"text\":\"Now we're talking about user-space statistically defined tracing.\\nI'm trying to understand you, it's like a more specific type of log file, it tracks more specific things?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:20:57\"}, {\"type\":\"paragraph\",\"text\":\"That's what I understand, too, but I don't completely understand it either.\\nI guess it really ties better into the operating system, and it's a way to communicate this information in a more structured way than just a text file.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:21:09\"}, {\"type\":\"paragraph\",\"text\":\"The example you gave was something related to the peer-to-peer network.\\nYou give it a very specific instruction.\\nYou don't have to log everything.\\nYou just log whatever other nodes are communicating with you or whatever data other nodes are sending to you.\\nBitcoin Core now has the option to keep track of that in a way that's easy to understand by other types of software, perhaps.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:21:35\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, exactly.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:21:36\"}, {\"type\":\"paragraph\",\"text\":\"As you mentioned, (is is) useful for developers, useful for researchers, not something a regular user will use in general.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:21:45\"}, {\"type\":\"paragraph\",\"text\":\"No, I don't think so.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:21:47\"}, {\"type\":\"paragraph\",\"text\":\"Okay.\\nThat's pretty clear to me.\\nNext point, Sjors.\\nAre you ready?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:22:03\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, I'm ready.\"}, {\"type\":\"heading\",\"text\":\"Bech32\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:22:05\"}, {\"type\":\"paragraph\",\"text\":\"Bech32.\\nHow do I pronounce Bech?\\nIs that how I pronounce it?\\nThat's probably a very Dutch way of pronouncing it.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:22:12\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, I would say Bech32, but others say Bech32.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:22:16\"}, {\"type\":\"paragraph\",\"text\":\"B-E-C-H-3-2.\\nBech32.\\nI forgot why this is in the show notes.\\nWell, I'm sure you remember.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:22:27\"}, {\"type\":\"paragraph\",\"text\":\"As you may remember, the Bech32 checksum has some nice properties.\\nOne of them is that it allows you to locate where your typos are.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:22:34\"}, {\"type\":\"paragraph\",\"text\":\"Bech32 is a type of address?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost:\"}, {\"type\":\"paragraph\",\"text\":\"Yep.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum:\"}, {\"type\":\"paragraph\",\"text\":\"We did a previous episode on addresses.\\nSjors, which episode is that?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:22:47\"}, {\"type\":\"paragraph\",\"text\":\"Yes, we addressed this.\\nI think it was probably episode two or something.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:22:52\"}, {\"type\":\"paragraph\",\"text\":\"It was very early, yes.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:22:53\"}, {\"type\":\"paragraph\",\"text\":\"One of the things we explained is that this new address format that starts with \\\"BC1\\\" will have the nice property that if you make a typo in it, you can actually find out where it was due to mathematical magic.\\nThat was already possible in theory but it wasn't supported in practice.\\nNow, Bitcoin Core will let you do it, at least if you use the command line in this release, and then maybe in a future release, there's already some work for that, you can do it in the GUI.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:23:21\"}, {\"type\":\"paragraph\",\"text\":\"If someone, for some reason,would type out an address instead of just copy-paste and then make a typo, then your Bitcoin Core client would tell you, \\\"There's a typo in it, and it's there\\\"\\nThat's basically what will happen.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:23:38\"}, {\"type\":\"paragraph\",\"text\":\"There's some discussion about up to what point that's safe because there could be situations where you make too many typos.\\nThen, it might think you actually meant another address, and it might actually help you accidentally change the address into a different address, which is even worse than the address not working.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:23:58\"}, {\"type\":\"paragraph\",\"text\":\"It's like autocorrect in that sense.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:24:01\"}, {\"type\":\"paragraph\",\"text\":\"But if you're using the command line, then you should know what you're doing.\\nSo it's easier to introduce these features there.\"}, {\"type\":\"heading\",\"text\":\"Wallet Support for Taproot\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:25:08\"}, {\"type\":\"paragraph\",\"text\":\"Nice.\\nAll right.\\nNext point.\\nWe're getting there.\\nTwo or three more to go, right?\\nWallet support for Taproot.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:25:20\"}, {\"type\":\"paragraph\",\"text\":\"That's right.\\nI think, more precisely, new wallets will support Taproot.\\nIf you create a new wallet, it will have Taproot support.\\nIt won't use it by default, but you can.\\nThe other change is a little drop-down menu where the checkbox used to be for Bech32.\\nNow, there will be a drop-down menu where you can choose.\\nIt still uses SegWit by default, but you can actually select taproot as well.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:25:48\"}, {\"type\":\"paragraph\",\"text\":\"What exactly does that mean?\\nWhat does it mean to use taproot in this context?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:25:52\"}, {\"type\":\"paragraph\",\"text\":\"You'll get an address that starts with \\\"BC1P\\\" instead of \\\"BC1Q\\\".\\nIt's a taproot single signature pay-to-public key.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:26:01\"}, {\"type\":\"paragraph\",\"text\":\"It doesn't mean you're automatically using all the fancy multisig options and timelock options hidden in this tree.\\nIt's still a regular single-key transaction, but you are using a Taproot address.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:26:18\"}, {\"type\":\"paragraph\",\"text\":\"Which has almost no benefit, but you can do it.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:26:22\"}, {\"type\":\"paragraph\",\"text\":\"It has a little bit of benefit for yourself.\\nThe point, in this case, is that anyone monitoring the blockchain won't be able to tell if it was, in fact, just a single-key transaction or maybe there was a fancy script hidden behind it.\\nThat's one of the nice things about Taproot.\\nIt looks the same.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:26:40\"}, {\"type\":\"paragraph\",\"text\":\"That's right.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:26:41\"}, {\"type\":\"paragraph\",\"text\":\"We're working towards this future.\\nThat's part of the vision of Taproot: where every transaction looks the same, and people won't know what kind of transaction is really hidden behind it.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:26:57\"}, {\"type\":\"paragraph\",\"text\":\"The transition phase is always a bit risky.\\nNow, how many wallets can actually do this?\\nThere are not that many, so it might actually tell people that you're using Bitcoin Core, but yeah, that's something to think about.\\nBut it's not the default yet.\\nThe other reason it's not the default is because some wallets cannot send to a taproot address.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:27:15\"}, {\"type\":\"paragraph\",\"text\":\"In the short term, in the transition phase, you're arguably a bit worse off privacy-wise, but then once people migrate to this new standard, everyone should benefit.\\nThat's basically the short version of the story here.\"}, {\"type\":\"heading\",\"text\":\"Wallet support for freezing coins\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:27:29\"}, {\"type\":\"paragraph\",\"text\":\"Okay.\\nSo we're heading in that direction.\\nWe're moving to the next point.\\nYou can now freeze coins in your wallets.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:27:43\"}, {\"type\":\"paragraph\",\"text\":\"It was already possible when you're using the Bitcoin Core GUI to send coins.\\nYou have something called manual coin selection that you can turn on if you like to actually decide which specific coins you want to spend.\\nIt'll give you a nice, well, nice depending on who you ask, graphical display of which coins you have, and you can select boxes and choose which coins to use.\\nIt also has the opposite feature where you could say \\\"I don't care which coin to use but don't use this one and this one\\\" because they come from some bad source that I don't want to mix with my other coins.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:28:16\"}, {\"type\":\"paragraph\",\"text\":\"Well, that's the new thing, right?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:28:19\"}, {\"type\":\"paragraph\",\"text\":\"No, it was already there.\\nThe problem is you have to do it every time you want to make a new transaction.\\nIt didn't remember it.\\nAt least not between startups of the Bitcoin Core.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:28:31\"}, {\"type\":\"paragraph\",\"text\":\"You're saying coins, which is also what I often use.\\nIt's easier to understand it.\\nTechnically, they're UTXOs, of course.\\nThey're the fractions of Bitcoin you received over time in your wallet.\\nIt was always possible, if you make a transaction, that you tell your Bitcoin Core wallet, \\\"I want to use these fractions to create a new transaction\\\".\\nOr, like you said, don't use these fractions to create my new transaction.\\nNow, you can basically tell your node, \\\"Don't use these fractions until I tell you otherwise\\\".\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:29:12\"}, {\"type\":\"paragraph\",\"text\":\"That's right.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:29:13\"}, {\"type\":\"paragraph\",\"text\":\"For the rest of time.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:29:14\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, exactly.\\nIt remembers it.\\nAnd that can be nice for a couple of reasons.\\nMaybe your wallet has lots of coins from KYC-free places, but it has one coin that you got from Coinbase.\\nAnd you just never want to use that coin from Coinbase because then Coinbase can tell all your other coins as they're probably spying on you.\\nYou can basically mark that coin as toxic until you decide to spend it, and it remembers that.\\nit can also be (useful) if you have something like a dust attack.\\nSomebody like an analytics companyight be sending very small amounts of dust to Bitcoin addresses that it knows about.\\nThen it's hoping that your wallet will automatically grab those coins and combine them with the other coins in your wallet, therefore revealing that you own both the old address and the new address.\\nNow, you can disable those two if you see this attack.\\nIt's pretty advanced stuff, but it's nice that it works.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:30:13\"}, {\"type\":\"paragraph\",\"text\":\"So, freezing is like a manual thing, you click a button, now they're frozen?\\nAnd then, is unfreezing also a manual thing?\\nOr could you also say, don't use them for a year, and after a year, they're automatic?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:30:26\"}, {\"type\":\"paragraph\",\"text\":\"No, it's not that advanced.\\nYou just select it, and you deselect it.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:30:30\"}, {\"type\":\"paragraph\",\"text\":\"Right.\"}, {\"type\":\"heading\",\"text\":\"Bonus Item: C compiler bugfix\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:30:32\"}, {\"type\":\"paragraph\",\"text\":\"We have a bonus item.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:30:34\"}, {\"type\":\"paragraph\",\"text\":\"Exciting.\\nThis is very exciting.\\nA bonus item.\\nSjors, I cannot wait to hear what the bonus item is.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:30:39\"}, {\"type\":\"paragraph\",\"text\":\"As we mentioned, there were multiple release candidates, and then there was release candidate number four, and somebody on Windows found a bug.\\nIt was a very obscure bug.\\nIt's like if I go to this screen and then this other screen, and I wait a few seconds, my node crashes.\\nThis is something many people would not even test because when there's a new release you generally test things that are new in that release.\\nBut in this case, somebody was just testing existing functionality and ran into this crash, and people investigated it, and it turned out to be some really obscure Windows-only bug in the C compiler that Bitcoin Core is using.\\nSo, people actually had to fix a C compiler in order to get to fix Bitcoin Core.\\nAnd that took another couple of weeks.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:31:26\"}, {\"type\":\"paragraph\",\"text\":\"The C compiler, that's not even part of Bitcoin Core.\\nThat's just a separate program in Windows that will compile your code into binaries, right?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:31:35\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, or a program on Linux that will compile your code so that it runs on Windows.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:31:42\"}, {\"type\":\"paragraph\",\"text\":\"Right.\\nThere was a bug in that separate piece of software, the compiler, and therefore a bug pops up in Bitcoin Core.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:31:51\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, but only in Windows and only in that specific place.\\nIt was very lucky that people even ran into it.\\nI mean, that specific bug wasn't the end of the world.\\nIt's very annoying, but if there's a bug in a compiler that can cause things to crash, you don't want to think about what other things that bug could cause.\\nSo, it's better to just deal with it.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:32:09\"}, {\"type\":\"paragraph\",\"text\":\"We've also made an episode about this, Sjors.\\nWhich episode was that?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:32:14\"}, {\"type\":\"paragraph\",\"text\":\"In the episode about GUIX, where we talked about dependencies and the dependency circus.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:32:20\"}, {\"type\":\"paragraph\",\"text\":\"Here, we have a concrete example of a dependency that has a bug and, therefore, causing problems in Bitcoin Core.\\nSo, how was this solved?\\nIs this solved?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:32:30\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, I believe it's solved.\\nThere's two things usually that happen at the same time.\\nOne is, once you figure out what it is, you go to the developers of this dependency project, so the compiler people probably, and you tell them this is broken and here's how you can fix it.\\nThen, they will put that into their normal flow and eventually they'll release an update where it's fixed.\\nBut you may not want to wait for that.\\nSo, there's something called patches where in Bitcoin Core there's a bunch of these small snippets of code that, before Bitcoin Core is compiled, it first patches whatever needs to be patched, and then it compiles.\\nSo basically, Bitcoin Core creates a little patch that fixes the compiler before it builds Bitcoin Core.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:33:12\"}, {\"type\":\"paragraph\",\"text\":\"Who creates these patches?\\nBitcoin Core developers, actually?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:33:15\"}, {\"type\":\"paragraph\",\"text\":\"Whoever fixes the original issue.\\nIt could be a Bitcoin Core developer that fixes the issue for the compiler people.\\nIt could be the compiler people that fix the issue themselves, but they haven't published the new binary for the fix yet.\\nSo then, you would just copy-paste their fix.\\nIt doesn't really matter who does it.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:33:34\"}, {\"type\":\"paragraph\",\"text\":\"But in this case, do you know who created the patch by any chance?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:33:38\"}, {\"type\":\"paragraph\",\"text\":\"Probably Fanquake, but I'm not sure.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:33:40\"}, {\"type\":\"paragraph\",\"text\":\"So someone created this patch, (and) fixed the upstream problem, or is it downstream?\\nIs it upstream or downstream?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:33:50\"}, {\"type\":\"paragraph\",\"text\":\"I think it's upstream.\\nI would say upstream.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:33:51\"}, {\"type\":\"paragraph\",\"text\":\"Yeah, it has to be upstream.\\nSo someone fixes the upstream problem, and now Bitcoin Core should be compiled without the bug.\\nThat's release candidate five.\\nWe're testing that now while we're recording this podcast.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:34:07\"}, {\"type\":\"paragraph\",\"text\":\"Hopefully, nothing else is broken, and then it can be released.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:34:11\"}, {\"type\":\"paragraph\",\"text\":\"Great.\\nWhere do people find this software if they want to download it?\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:34:15\"}, {\"type\":\"paragraph\",\"text\":\"If they want to test a release candidate, they should go to the Bitcoin developer email list, where there's an announcement that says, \\\"Hey, you can download the release candidate here\\\".\\nIf you just want to wait for the real thing, it'll show up on bitcoincore.org eventually.\"}, {\"type\":\"paragraph\",\"text\":\"Aaron van Wirdum: 00:34:31\"}, {\"type\":\"paragraph\",\"text\":\"All right, great.\\nI think that covers it, Sjors.\"}, {\"type\":\"paragraph\",\"text\":\"Sjors Provoost: 00:34:33\"}, {\"type\":\"paragraph\",\"text\":\"Cool.\\nWell, thank you for listening to Bitcoin Explained.\"}",
    "body": "## Intro\n\nAaron van Wirdum: 00:00:20\n\nLive from Utrecht, this is Bitcoin Explained.\nSjors, are we still making a bi-weekly podcast?\n\nSjors Provoost: 00:00:28\n\nI mean, it depends on what you mean by bi.\nIt's more like a feeling, right?\n\nAaron van Wirdum: 00:00:32\n\nWe make a podcast when we feel about it these days.\nIs that the rule?\n\nSjors Provoost: 00:00:36\n\nNo, it's also when we're not traveling or sick or whatever.\n\nAaron van Wirdum: 00:00:40\n\nOr we don't have a good idea for a podcast.\nThis is a good moment actually to maybe make a call to our audience.\nWe will take requests for topics, or at least we will consider requests for topics.\nIf any of our listeners have good ideas of things that they want to have explained by us, just let us know on Twitter, and we will consider it.\nAll right.\nSo, the last one was, I guess, a month ago.\nI don't know when this one will be published because I think our editor is now traveling.\nHe's in Amsterdam.\n\nSjors Provoost: 00:01:12\n\nOh, okay.\n\nAaron van Wirdum: 00:01:12\n\nHe's coming to our meetup tonight.\nWe're recording this on Wednesday, what is it?\n\nSjors Provoost: 00:01:17\n\nWednesday, 20th of April.\n\nAaron van Wirdum: 00:01:19\n\nAnd that will be the biggest meetup in all of Europe in Amsterdam tonight, Sjors.\nIsn't that exciting?\nWe recently discovered that it's probably the biggest one in Europe, so now that's our main marketing push.\n\nSjors Provoost: 00:01:31\n\nInteresting.\nI guess that's because there's nothing happening in Prague at the moment?\nBecause they have pretty big meetups.\n\nAaron van Wirdum: 00:01:36\n\nWe didn't fact-check it, but I think it's the biggest one in Europe.\n\nSjors Provoost: 00:01:42\n\nBut you mean the biggest Bitcoin meetup, which then meets some narrow definition of Bitcoiner or Bitcoin.\n\nAaron van Wirdum: 00:01:49\n\nJust the biggest Bitcoin meetup we know of.\nI don't think we're doing very narrow definitions.\n\nSjors Provoost: 00:01:54\n\nThere's Bitcoin Wednesday, which has nothing to do with Bitcoin.\n\nAaron van Wirdum: 00:01:58\n\nRight.\nYeah, that's also in Amsterdam.\nI mean, is that bigger than ours?\n\nSjors Provoost: 00:02:02\n\nI don't know.\n\nAaron van Wirdum: 00:02:03\n\nWho knows?\n\nSjors Provoost: 00:02:03\n\nCould be.\n\nAaron van Wirdum: 00:02:04\n\nAll right, let's get to the actual meat of this episode.\nWe are going to discuss Bitcoin Core 23, and we'll probably have this published on the day that it is released because that's what we're going to be discussing.\n\nSjors Provoost: 00:02:19\n\nThat's always a bit of a risky statement because it can take a while before it gets released.\nBut hopefully, it'll be at the same time.\n\nAaron van Wirdum: 00:02:25\n\nAt the time we're recording this, we're on release candidate 5.\nI don't think there have been many Bitcoin Core releases that required more than five release candidates, right?\n\nSjors Provoost: 00:02:34\n\nIndeed.\n\n## Bitcoin Core Release Candidates\n\nAaron van Wirdum: 00:02:35\n\nThis is not in the show notes, but maybe that's a good starting point.\nSjors, what is actually a release candidate?\n\nSjors Provoost: 00:02:43\n\nIt's a candidate for a release, to put it simply.\nIt's a way for the Bitcoin Core developers or any software project to allow experienced users to test the software.\n\nAaron van Wirdum: 00:02:58\n\nRight, and what are they testing it for?\n\nSjors Provoost: 00:03:00\n\nWell, they're testing something that's going to be as close to the final version as possible.\nIn fact, the very last release candidate is eventually copied and called the actual release.\n\nAaron van Wirdum: 00:03:08\n\nIn this case, release candidate 5.\nI think they're basically guys like you, Bitcoin Core developers and other expert users maybe, they're sort of trying out the software, looking for bugs.\n\nSjors Provoost: 00:03:24\n\nYeah, exactly, or changes that are not correctly documented.\nFor example, if you're running a Bitcoin ATM or something, and you're relying on a Bitcoin Core node to do all sorts of automated stuff, then you would test the new release candidate to make sure that all the automated stuff you were relying on still works and there's not some subtle change that causes your ATM to send free money to its users.\n\nAaron van Wirdum: 00:03:44\n\nRight.\nThat lasts for about a week, and then, if no issues are found, the latest release candidate is essentially rebranded to whatever the new Bitcoin Core release is.\n\nSjors Provoost: 00:03:54\n\nAn actual new release is made, but it has the same code.\nThe only thing that changes then is the version number.\n\nAaron van Wirdum: 00:04:02\n\nOkay.\nSo Bitcoin Core 23, that's where we're at.\nFor those who don't know, Bitcoin Core releases a new version roughly every six months.\nAnd the new Bitcoin Core release will basically include whatever was ready at that time.\nBitcoin Core doesn't wait for specific futures; once every six months, whatever's ready is in there.\n\nSjors Provoost: 00:04:26\n\nYeah, that's right.\n\n## Bitcoin Core choice of communication ports\n\nAaron van Wirdum: 00:04:27\n\nOkay, so we're going to discuss some of the most notable changes.\nLet's begin.\nSjors, we're going to begin with something about ports?\n\nSjors Provoost: 00:04:45\n\nYes.\nAs you may or may not know, Bitcoin Core listens to other nodes, if it's on a public network, on port 8333.\n\nAaron van Wirdum: 00:04:52\n\nBy listening, you basically mean communicating with, right?\nOr what's more?\n\nSjors Provoost: 00:04:59\n\nListening means that it is listening to the outside world.\nSo you can actually connect to it if you're in the outside world.\nA node could also just be on the internet but not listen to anyone in the world.\nSo you might not know where it is, and even if you send a message to it, it won't hear you.\n\nAaron van Wirdum: 00:05:12\n\nRight, so if I'm running a Bitcoin Core node and it's a listening node, which is like a setting?\n\nSjors Provoost: 00:05:17\n\nIt's actually the default.\nHowever, in your home situation, it won't listen by default.\nThat's not because of a setting in Bitcoin Core, but other reasons we'll probably get into.\n\nAaron van Wirdum: 00:05:26\n\nWe'll get into that in a bit.\nBut essentially, if I'm running a Bitcoin Core listening node- let's just call it that for now- and you're also running a node, and you want to communicate with my node, then you're going to connect with my node on port 8333, right?\nSo far so good?\n\nSjors Provoost: 00:05:44\n\nThat's right.\n\nAaron van Wirdum: 00:05:45\n\nOkay, so what is a port?\nWhat does this actually mean?\n\nSjors Provoost: 00:05:49\n\nA port is part of the TCP protocol, the TCP/IP protocol, basically.\nThe idea is an IP address is where the computer is.\nThat's what it tells you.\nThe port is actually just a thing inside of the messages that you're sending to it.\nThe internet uses packages, and these packages have a certain structure.\nThe beginning of the package says which port you want to communicate on.\nIt's just a convention, a kind of a way to talk to different services on the same machine.\nOne server on the Internet might run a web server, an email server, and a Bitcoin node.\nOne convention you'll use is if you want to talk to the web server, talk to port 80 or port 443.\nIf you want to talk to the FTP server, talk to port 21.\nIf you want to talk to the Bitcoin node, talk to port 8333.\nSo it's like if you're sending somebody a letter and you write down the number of the office they're in.\n\nAaron van Wirdum: 00:06:51\n\nOr the name, in that case.\nThere are several people living on the same address, and then the name actually specifies who it's for.\n\nSjors Provoost: 00:06:59\n\nYeah, maybe, too.\nThese are conventions.\nIP addresses are a scarce resource; they're distributed across the world.\nSo, there are some centralization involved there.\nBut when it comes to ports, there are standards and conventions out there, but your machine decides what it does on which port because nobody on the outside can tell you what to do.\nIt's just a very bad idea to use the wrong port.\n\nAaron van Wirdum: 00:07:21\n\nWhen your computer connects with my computer, it tells my computer I'm going to use port 8333, which is just a conventional specification of something we chose.\nAnd at that point, my computer knows he wants to connect to Bitcoin Core, right?\n\n## Port Filtering\n\nSjors Provoost: 00:07:38\n\nYes, because Bitcoin Core told your computer that it wants to listen on that port.\n\nAaron van Wirdum: 00:07:42\n\nThat's the convention, but there's a problem with this?\n\nSjors Provoost: 00:07:49\n\nYeah.\nOne thing is that internet providers and others can filter the internet traffic.\nOne way you can filter the internet traffic is by looking at which port a package is going to.\nIt's very easy to see; it's at the start of each package.\nAnd you usually have to check that anyway for other reasons.\nOne thing an internet provider could do is to say \"we don't like Bitcoin, let's just block port 8333 specifically\".\n\nAaron van Wirdum: 00:08:13\n\nSo, in a Bitcoin-hostile future, where perhaps Bitcoin is banned, and ISPs want to stop people from using Bitcoin, this would be one way for them to do it.\n\nSjors Provoost: 00:08:25\n\nYes, this would be the easiest, the lowest-hanging fruit way to do it.\nIt's certainly not a very effective way to do it, but it's one start.\nCertainly not the only thing they can do.\n\nAaron van Wirdum: 00:08:35\n\nAnd the reason it's not very effective is because we have the option to use different ports.\n\nSjors Provoost:\n\nExactly.\nThat's the cat and mouse game.\nIf they make that move, then the second move is we start using other ports.\nBut in order to prepare for that situation, one of the changes that are in the new version is that Bitcoin nodes will connect to other nodes that have a different port.\n\nAaron van Wirdum: 00:08:59\n\nSo they don't do that now?\n\nSjors Provoost: 00:09:00\n\nThey will do it if you tell it to, but one thing we talked about in the earlier episode is that your node keeps a list of other nodes that it could connect to, and from that list, it tends to pick nodes that have port 8333 and only if that fails after a long time, then it'll try other ports.\nThat's the preference that's being removed now.\nIt'll just try any other node, regardless of what port it has, which means that if we move to a future where nodes are listening on different ports, it's going to be less friction.\n\nAaron van Wirdum: 00:09:30\n\nSo, right now, you're running a node.\nBy default, your node will try to connect to other nodes and prioritize port 8333 nodes.\nSo, if I'm running a node on another port, and everyone is like you, then I will just not have any inbound connections from other nodes because everyone's ignoring me because I'm not using 8333.\nIs that right?\n\nSjors Provoost: 00:09:52\n\nYeah.\n\nAaron van Wirdum: 00:09:53\n\nAnd this is changing now.\nThis changes in the new Bitcoin Core, where you won't prioritize 8333.\nYou'll connect to whatever node.\n\nSjors Provoost: 00:10:03\n\nYeah, exactly.\nThere is, I think, a list of ports that we don't connect to because it could be perceived as an attack.\nBut I think that list is pretty short.\n\nAaron van Wirdum: 00:10:13\n\nSo this is basically preparing for a potential dystopian future where Bitcoin is very much...\n\nSjors Provoost: 00:10:19\n\nBitcoin is always preparing for a potentially dystopian future.\n\nAaron van Wirdum: 00:10:22\n\nAnd it should, yeah.\nBut just to clarify that for the listener.\n\nSjors Provoost: 00:10:26\n\nYeah, but also, to clarify this, this is not going to make a difference.\nIt's just one chess move, and the countermove is pretty obvious.\nThere are all sorts of ways for internet providers to see that you're running a Bitcoin node, not just the port you're on.\nBut that's the easiest way, and, you know, enemies are lazy.\n\n## CJDNS\n\nAaron van Wirdum: 00:10:43\n\nOkay, well, so that covers that change, correct?\n\nSjors Provoost: 00:10:46\n\nYeah.\n\nAaron van Wirdum: 00:10:47\n\nAll right.\nLet's move on to the next point.\nCJDNS.\n\nSjors Provoost: 00:10:58\n\nI have no idea what it really is, to be honest.\nIt's in the list of Tor and I2P that we talked about.\nIt's not a complete replacement of these things, but it's sort of similar-ish.\n\nAaron van Wirdum: 00:11:11\n\nIt's some kind of anonymity network that you can use if you want to use the internet more privately.\n\nSjors Provoost: 00:11:17\n\nExactly.\nIf you know what that is, now you can use it with Bitcoin Core.\nI think that will be the first step to put it.\n\nAaron van Wirdum: 00:11:25\n\nSo, Bitcoin Core has included support for CJDNS.\n\nSjors Provoost: 00:11:30\n\nThat's right.\nA couple of episodes ago, we talked about the address gossip messages.\nWe discussed how we used to be able to communicate IPv4 addresses, IPv6 addresses, and Tor v2 addresses, and how it wasn't possible to communicate Tor V3 addresses because they were too long.\nThey come up with a new standard called address message format number two, which allows you to send addresses of very different sizes and easily add new networks to that.\nThis is just one of the new networks that's added to it.\nYou can just use it, you can also gossip them around and things like that.\n\nAaron van Wirdum: 00:12:08\n\nDetails about CJDNS itself is not something that we can provide to the listener.\nThat's outside of my expertise, and I think outside of yours as well.\n\nSjors Provoost: 00:12:22\n\nYeah.\n\nAaron van Wirdum: 00:12:23\n\nOkay.\nBitcoin Core supports a new privacy or is it new?\nDo you know if it's new?\n\nSjors Provoost: 00:12:28\n\nI don't think it's new.\n\nAaron van Wirdum: 00:12:29\n\nIt just supports an additional privacy network if you want to use it.\nGreat.\nI like it.\n\nSjors Provoost: 00:12:38\n\nNext.\n\n## RBF transactions and fee estimation algorithm\n\nAaron van Wirdum:\n\nThere's an upgrade in the fee estimation algorithm in Bitcoin Core.\nWhenever you want to make a transaction, Bitcoin Core has the option to increase or decrease the fee depending on how fast you want your transaction to confirm, which depends on how many transactions are in the mempool or how high the fees were in recent blocks.\nI think these are some of the inputs.\n\nSjors Provoost: 00:13:09\n\nIt looks at how high fees were in recent blocks, but it also checks how long it took before it first saw it in the mempool and when it was in a block.\nI'm not exactly sure.\n\nAaron van Wirdum: 00:13:22\n\nThat has been upgraded to include RBF, replaced by fee transactions.\nIs that right?\n\nSjors Provoost: 00:13:29\n\nYou could call it an upgrade.\nInitially, it would just consider all transactions in the mempool.\nWhen RBF was introduced, it was decided to ignore those RBF fee bumps.\nA fee bump is when you increase the fee of an existing transaction.\nIn the beginning developers were not sure whether miners would actually play along with that game, actually replace the transactions.\nBecause they weren't sure about that, it was a bit risky to take those fees into account because you didn't know if those fees actually mattered or not.\nBut they do, and more people are using RBF.\nNow, the fee estimation takes into account the fees of the transactions whose fee was bumped.\n\nAaron van Wirdum: 00:14:12\n\nTo be very clear, the fees and RBF transactions we're talking about here are essentially other people's RBF transactions.\nTo reiterate that really quickly, RBF, you send a transaction, and it's taking longer to confirm than you anticipated, or for some reason, you're in more of a rush all of a sudden.\nYou have the option to resend the same transaction to the network but include a higher fee this time.\nThe newer transaction should override the older transaction, the miners should pick that one because it has a higher fee, essentially.\n\nSjors Provoost: 00:14:51\n\nExactly.\n\nAaron van Wirdum: 00:14:53\n\nThen the transactions that are going to be confirmed in blocks essentially have higher fees now if all miners will adopt or accept these RBF transactions.\nTherefore, your own transaction, if you're going to send it, would also require a bit of a higher fee, and that's now taken into account.\n\nSjors Provoost: 00:15:11\n\nYeah.\nThe one nuance there is not necessarily that fees will actually go up, because people will make more conservative estimates and then increase them.\nSo effectively fees might be lower.\nBut you have to take them into account.\nYou have to look at what transactions actually go into the block.\n\nAaron van Wirdum: 00:15:28\n\nLet's say I want to have my transaction confirmed within 24 hours.\nNow that RBF transactions from other people are taken into account, should this mean that my fee estimation will be slightly higher now?\n\nSjors Provoost: 00:15:48\n\nThat's what I thought yesterday too, but now I think that's not actually true.\nBecause RBF transactions, what it's saying is it's now including transactions that have been fee bumped.\nBut I don't know if it previously excluded those transactions or excluded transactions that were using the RBF flag but were not fee-bumped.\n\nAaron van Wirdum: 00:16:08\n\nI don't get that at all.\n\nSjors Provoost: 00:16:13\n\nThere's three kinds of transactions.\nThere's transactions that don't use RBF at all.\nThere's transactions that set the RBF flag but don't bump the fee.\nAnd there's transactions that now have a higher fee.\nThe transactions that now have a higher fee are always higher than the ones that don't.\nSo yeah, I guess you're right.\nIt would increase the fee estimate slightly.\n\nAaron van Wirdum: 00:16:33\n\nIt would have to, right?\nThere's no way it can be lower if it's going to take into account RBF transactions.\nIt might stay the same in some cases.\nIt's either the same or higher.\n\nSjors Provoost: 00:16:44\n\nIt depends.\nIf it was discounting all RBF transactions, regardless of whether the fee was bumped or not, then it's different.\nBecause if the algorithm was only looking at transactions that don't have the RBF flag at all, and now it's also looking at transactions that do have the RBF flag, those might be all systematically lower.\n\nAaron van Wirdum: 00:17:00\n\nThat would be a strange policy if that was the case.\n\nSjors Provoost: 00:17:05\n\nIt may be, but that would be a good reason to revert it.\nWe should have read the pull request a bit better.\nYou can do so yourself.\n\nAaron van Wirdum: 00:17:11\n\nIn either case, that's a detail.\nThe important thing is that RBF transactions are now taken into account for fee estimation.\nTo summarize that in one sentence, fee estimation should be a bit better now.\n\n## User-space Statistically Defined Tracing (USDT)\n\nSjors Provoost: 00:17:28\n\nLet's talk about Tether.\n\nAaron van Wirdum: 00:17:28\n\nSjors, do you want to talk about Tether?\n\nSjors Provoost:\n\nYeah, is it actually Tether?\nUSDC?\n\nAaron van Wirdum:\n\nOh, you know, that's another one, right?\nTether should be USDT or something like that.\n\nSjors Provoost: 00:17:44\n\nWell, Anyway, oh, it is USDT.\nI actually just wrote it wrong in the show notes.\nYeah, it's USDT, but it doesn't stand for tether.\nIt stands for user-space statically defined tracing for Bitcoin Core.\n\nAaron van Wirdum: 00:17:55\n\nAha, it's only now that I understand your pun.\nI made a pun in the show notes.\nThat's great.\nWe're back to puns.\nWe need more puns in our show but make the pun again because maybe people didn't get it.\n\nSjors Provoost: 00:18:08\n\nNo, that's fine.\nThey can re-listen to the episode.\nAnd I ruined it anyway.\nThe basic idea here is that I don't really understand the basic idea.\nTracepoints are tools that developers can use, but also people who want to monitor their own nodes can use to get really fine-grade statistics out of their nodes.\nFor example, you can ask your node for things.\nYou can call the node RPC and ask for the list of blocks or peers you have.\nThere's RPC call for that.\nYou can also read log files, and that tells you something.\nThis (USDT) is just another way to get more detailed information.\nOne of the details you can get is every message that every node ever sends to you.\nAll of your peers keep sending you all sorts of messages, and now there's a better tool that you can use to track those messages in a database.\n\nAaron van Wirdum: 00:19:01\n\nLet's break this down a little bit.\nThis sounds like something useful for developers specifically, right?\nOr is this something users are gonna use for some reason?\n\nSjors Provoost: 00:19:15\n\nI would say developers, but also say researchers.\nJameson Lopp, for example, when he does all these analyses of whatever's going on, he could use this, or security researchers might find this interesting because they could run a bunch of nodes and check all the message traffic that's coming at those nodes and maybe identify attacks by something subtle.\nWe talked about an attack on the Bitcoin peer-to-peer network a few episodes ago, where people were announcing fake nodes.\nThat's something you probably wouldn't be able to detect if you just start your Bitcoin Core GUI; it doesn't get hot or scream at you.\nYet, there is an attack going on.\nThese kinds of tools would make it much easier to see that this attack is going on.\n\nAaron van Wirdum: 00:19:59\n\nOne small step back, just for my own understanding and the listeners' as well, since they're listening, hopefully.\n\nSjors Provoost: 00:20:07\n\nThat's why we explain things.\n\nAaron van Wirdum: 00:20:08\n\nFirst of all, you just mentioned log files.\nA log file basically keeps track of every action your Bitcoin Core node does.\n\nSjors Provoost: 00:20:19\n\nDepending on how you configure it, you can tell it to keep track of quite a lot of detail, yes.\nBut it's just a long text file, and each line starts with the timestamp, and then it says, \"Okay, this happened, okay, this happened\"\nIf you want to process that data, it can be quite tedious.\n\nAaron van Wirdum: 00:20:34\n\nRight.\n\nSjors Provoost: 00:20:35\n\nAnd not everything goes into the log file either.\n\nAaron van Wirdum: 00:20:37\n\nOkay.\nBut this was already possible.\n\nSjors Provoost:\n\nYes.\n\nAaron van Wirdum:\n\nNow we're talking about user-space statistically defined tracing.\nI'm trying to understand you, it's like a more specific type of log file, it tracks more specific things?\n\nSjors Provoost: 00:20:57\n\nThat's what I understand, too, but I don't completely understand it either.\nI guess it really ties better into the operating system, and it's a way to communicate this information in a more structured way than just a text file.\n\nAaron van Wirdum: 00:21:09\n\nThe example you gave was something related to the peer-to-peer network.\nYou give it a very specific instruction.\nYou don't have to log everything.\nYou just log whatever other nodes are communicating with you or whatever data other nodes are sending to you.\nBitcoin Core now has the option to keep track of that in a way that's easy to understand by other types of software, perhaps.\n\nSjors Provoost: 00:21:35\n\nYeah, exactly.\n\nAaron van Wirdum: 00:21:36\n\nAs you mentioned, (is is) useful for developers, useful for researchers, not something a regular user will use in general.\n\nSjors Provoost: 00:21:45\n\nNo, I don't think so.\n\nAaron van Wirdum: 00:21:47\n\nOkay.\nThat's pretty clear to me.\nNext point, Sjors.\nAre you ready?\n\nSjors Provoost: 00:22:03\n\nYeah, I'm ready.\n\n## Bech32\n\nAaron van Wirdum: 00:22:05\n\nBech32.\nHow do I pronounce Bech?\nIs that how I pronounce it?\nThat's probably a very Dutch way of pronouncing it.\n\nSjors Provoost: 00:22:12\n\nYeah, I would say Bech32, but others say Bech32.\n\nAaron van Wirdum: 00:22:16\n\nB-E-C-H-3-2.\nBech32.\nI forgot why this is in the show notes.\nWell, I'm sure you remember.\n\nSjors Provoost: 00:22:27\n\nAs you may remember, the Bech32 checksum has some nice properties.\nOne of them is that it allows you to locate where your typos are.\n\nAaron van Wirdum: 00:22:34\n\nBech32 is a type of address?\n\nSjors Provoost:\n\nYep.\n\nAaron van Wirdum:\n\nWe did a previous episode on addresses.\nSjors, which episode is that?\n\nSjors Provoost: 00:22:47\n\nYes, we addressed this.\nI think it was probably episode two or something.\n\nAaron van Wirdum: 00:22:52\n\nIt was very early, yes.\n\nSjors Provoost: 00:22:53\n\nOne of the things we explained is that this new address format that starts with \"BC1\" will have the nice property that if you make a typo in it, you can actually find out where it was due to mathematical magic.\nThat was already possible in theory but it wasn't supported in practice.\nNow, Bitcoin Core will let you do it, at least if you use the command line in this release, and then maybe in a future release, there's already some work for that, you can do it in the GUI.\n\nAaron van Wirdum: 00:23:21\n\nIf someone, for some reason,would type out an address instead of just copy-paste and then make a typo, then your Bitcoin Core client would tell you, \"There's a typo in it, and it's there\"\nThat's basically what will happen.\n\nSjors Provoost: 00:23:38\n\nThere's some discussion about up to what point that's safe because there could be situations where you make too many typos.\nThen, it might think you actually meant another address, and it might actually help you accidentally change the address into a different address, which is even worse than the address not working.\n\nAaron van Wirdum: 00:23:58\n\nIt's like autocorrect in that sense.\n\nSjors Provoost: 00:24:01\n\nBut if you're using the command line, then you should know what you're doing.\nSo it's easier to introduce these features there.\n\n## Wallet Support for Taproot\n\nAaron van Wirdum: 00:25:08\n\nNice.\nAll right.\nNext point.\nWe're getting there.\nTwo or three more to go, right?\nWallet support for Taproot.\n\nSjors Provoost: 00:25:20\n\nThat's right.\nI think, more precisely, new wallets will support Taproot.\nIf you create a new wallet, it will have Taproot support.\nIt won't use it by default, but you can.\nThe other change is a little drop-down menu where the checkbox used to be for Bech32.\nNow, there will be a drop-down menu where you can choose.\nIt still uses SegWit by default, but you can actually select taproot as well.\n\nAaron van Wirdum: 00:25:48\n\nWhat exactly does that mean?\nWhat does it mean to use taproot in this context?\n\nSjors Provoost: 00:25:52\n\nYou'll get an address that starts with \"BC1P\" instead of \"BC1Q\".\nIt's a taproot single signature pay-to-public key.\n\nAaron van Wirdum: 00:26:01\n\nIt doesn't mean you're automatically using all the fancy multisig options and timelock options hidden in this tree.\nIt's still a regular single-key transaction, but you are using a Taproot address.\n\nSjors Provoost: 00:26:18\n\nWhich has almost no benefit, but you can do it.\n\nAaron van Wirdum: 00:26:22\n\nIt has a little bit of benefit for yourself.\nThe point, in this case, is that anyone monitoring the blockchain won't be able to tell if it was, in fact, just a single-key transaction or maybe there was a fancy script hidden behind it.\nThat's one of the nice things about Taproot.\nIt looks the same.\n\nSjors Provoost: 00:26:40\n\nThat's right.\n\nAaron van Wirdum: 00:26:41\n\nWe're working towards this future.\nThat's part of the vision of Taproot: where every transaction looks the same, and people won't know what kind of transaction is really hidden behind it.\n\nSjors Provoost: 00:26:57\n\nThe transition phase is always a bit risky.\nNow, how many wallets can actually do this?\nThere are not that many, so it might actually tell people that you're using Bitcoin Core, but yeah, that's something to think about.\nBut it's not the default yet.\nThe other reason it's not the default is because some wallets cannot send to a taproot address.\n\nAaron van Wirdum: 00:27:15\n\nIn the short term, in the transition phase, you're arguably a bit worse off privacy-wise, but then once people migrate to this new standard, everyone should benefit.\nThat's basically the short version of the story here.\n\n\n## Wallet support for freezing coins\n\nAaron van Wirdum: 00:27:29\n\nOkay.\nSo we're heading in that direction.\nWe're moving to the next point.\nYou can now freeze coins in your wallets.\n\nSjors Provoost: 00:27:43\n\nIt was already possible when you're using the Bitcoin Core GUI to send coins.\nYou have something called manual coin selection that you can turn on if you like to actually decide which specific coins you want to spend.\nIt'll give you a nice, well, nice depending on who you ask, graphical display of which coins you have, and you can select boxes and choose which coins to use.\nIt also has the opposite feature where you could say \"I don't care which coin to use but don't use this one and this one\" because they come from some bad source that I don't want to mix with my other coins.\n\nAaron van Wirdum: 00:28:16\n\nWell, that's the new thing, right?\n\nSjors Provoost: 00:28:19\n\nNo, it was already there.\nThe problem is you have to do it every time you want to make a new transaction.\nIt didn't remember it.\nAt least not between startups of the Bitcoin Core.\n\nAaron van Wirdum: 00:28:31\n\nYou're saying coins, which is also what I often use.\nIt's easier to understand it.\nTechnically, they're UTXOs, of course.\nThey're the fractions of Bitcoin you received over time in your wallet.\nIt was always possible, if you make a transaction, that you tell your Bitcoin Core wallet, \"I want to use these fractions to create a new transaction\".\nOr, like you said, don't use these fractions to create my new transaction.\nNow, you can basically tell your node, \"Don't use these fractions until I tell you otherwise\".\n\nSjors Provoost: 00:29:12\n\nThat's right.\n\nAaron van Wirdum: 00:29:13\n\nFor the rest of time.\n\nSjors Provoost: 00:29:14\n\nYeah, exactly.\nIt remembers it.\nAnd that can be nice for a couple of reasons.\nMaybe your wallet has lots of coins from KYC-free places, but it has one coin that you got from Coinbase.\nAnd you just never want to use that coin from Coinbase because then Coinbase can tell all your other coins as they're probably spying on you.\nYou can basically mark that coin as toxic until you decide to spend it, and it remembers that.\nit can also be (useful) if you have something like a dust attack.\nSomebody like an analytics companyight be sending very small amounts of dust to Bitcoin addresses that it knows about.\nThen it's hoping that your wallet will automatically grab those coins and combine them with the other coins in your wallet, therefore revealing that you own both the old address and the new address.\nNow, you can disable those two if you see this attack.\nIt's pretty advanced stuff, but it's nice that it works.\n\nAaron van Wirdum: 00:30:13\n\nSo, freezing is like a manual thing, you click a button, now they're frozen?\nAnd then, is unfreezing also a manual thing?\nOr could you also say, don't use them for a year, and after a year, they're automatic?\n\nSjors Provoost: 00:30:26\n\nNo, it's not that advanced.\nYou just select it, and you deselect it.\n\nAaron van Wirdum: 00:30:30\n\nRight.\n\n## Bonus Item: C compiler bugfix\n\nSjors Provoost: 00:30:32\n\nWe have a bonus item.\n\nAaron van Wirdum: 00:30:34\n\nExciting.\nThis is very exciting.\nA bonus item.\nSjors, I cannot wait to hear what the bonus item is.\n\nSjors Provoost: 00:30:39\n\nAs we mentioned, there were multiple release candidates, and then there was release candidate number four, and somebody on Windows found a bug.\nIt was a very obscure bug.\nIt's like if I go to this screen and then this other screen, and I wait a few seconds, my node crashes.\nThis is something many people would not even test because when there's a new release you generally test things that are new in that release.\nBut in this case, somebody was just testing existing functionality and ran into this crash, and people investigated it, and it turned out to be some really obscure Windows-only bug in the C compiler that Bitcoin Core is using.\nSo, people actually had to fix a C compiler in order to get to fix Bitcoin Core.\nAnd that took another couple of weeks.\n\nAaron van Wirdum: 00:31:26\n\nThe C compiler, that's not even part of Bitcoin Core.\nThat's just a separate program in Windows that will compile your code into binaries, right?\n\nSjors Provoost: 00:31:35\n\nYeah, or a program on Linux that will compile your code so that it runs on Windows.\n\nAaron van Wirdum: 00:31:42\n\nRight.\nThere was a bug in that separate piece of software, the compiler, and therefore a bug pops up in Bitcoin Core.\n\nSjors Provoost: 00:31:51\n\nYeah, but only in Windows and only in that specific place.\nIt was very lucky that people even ran into it.\nI mean, that specific bug wasn't the end of the world.\nIt's very annoying, but if there's a bug in a compiler that can cause things to crash, you don't want to think about what other things that bug could cause.\nSo, it's better to just deal with it.\n\nAaron van Wirdum: 00:32:09\n\nWe've also made an episode about this, Sjors.\nWhich episode was that?\n\nSjors Provoost: 00:32:14\n\nIn the episode about GUIX, where we talked about dependencies and the dependency circus.\n\nAaron van Wirdum: 00:32:20\n\nHere, we have a concrete example of a dependency that has a bug and, therefore, causing problems in Bitcoin Core.\nSo, how was this solved?\nIs this solved?\n\nSjors Provoost: 00:32:30\n\nYeah, I believe it's solved.\nThere's two things usually that happen at the same time.\nOne is, once you figure out what it is, you go to the developers of this dependency project, so the compiler people probably, and you tell them this is broken and here's how you can fix it.\nThen, they will put that into their normal flow and eventually they'll release an update where it's fixed.\nBut you may not want to wait for that.\nSo, there's something called patches where in Bitcoin Core there's a bunch of these small snippets of code that, before Bitcoin Core is compiled, it first patches whatever needs to be patched, and then it compiles.\nSo basically, Bitcoin Core creates a little patch that fixes the compiler before it builds Bitcoin Core.\n\nAaron van Wirdum: 00:33:12\n\nWho creates these patches?\nBitcoin Core developers, actually?\n\nSjors Provoost: 00:33:15\n\nWhoever fixes the original issue.\nIt could be a Bitcoin Core developer that fixes the issue for the compiler people.\nIt could be the compiler people that fix the issue themselves, but they haven't published the new binary for the fix yet.\nSo then, you would just copy-paste their fix.\nIt doesn't really matter who does it.\n\nAaron van Wirdum: 00:33:34\n\nBut in this case, do you know who created the patch by any chance?\n\nSjors Provoost: 00:33:38\n\nProbably Fanquake, but I'm not sure.\n\nAaron van Wirdum: 00:33:40\n\nSo someone created this patch, (and) fixed the upstream problem, or is it downstream?\nIs it upstream or downstream?\n\nSjors Provoost: 00:33:50\n\nI think it's upstream.\nI would say upstream.\n\nAaron van Wirdum: 00:33:51\n\nYeah, it has to be upstream.\nSo someone fixes the upstream problem, and now Bitcoin Core should be compiled without the bug.\nThat's release candidate five.\nWe're testing that now while we're recording this podcast.\n\nSjors Provoost: 00:34:07\n\nHopefully, nothing else is broken, and then it can be released.\n\nAaron van Wirdum: 00:34:11\n\nGreat.\nWhere do people find this software if they want to download it?\n\nSjors Provoost: 00:34:15\n\nIf they want to test a release candidate, they should go to the Bitcoin developer email list, where there's an announcement that says, \"Hey, you can download the release candidate here\".\nIf you just want to wait for the real thing, it'll show up on bitcoincore.org eventually.\n\nAaron van Wirdum: 00:34:31\n\nAll right, great.\nI think that covers it, Sjors.\n\nSjors Provoost: 00:34:33\n\nCool.\nWell, thank you for listening to Bitcoin Explained.\n\n",
    "body_type": "markdown",
    "created_at": "2022-04-24T00:00:00.000Z",
    "domain": "https://btctranscripts.com/",
    "url": "https://btctranscripts.com/bitcoin-explained/bitcoin-core-v23",
    "categories": [
        "podcast"
    ],
    "tags": [
        "bitcoin-core"
    ],
    "media": "https://www.youtube.com/watch?v=bMMG91sJXpM",
    "authors": [
        "Sjors Provoost",
        "Aaron van Wirdum"
    ],
    "indexed_at": "2024-03-21T16:33:36.091Z",
    "transcript_by": "edilmedeiros via review.btctranscripts.com",
    "summary": "In a recent episode of \"Bitcoin Explained,\" recorded live from Utrecht, hosts Sjors Provoost and Aaron van Wirdum embarked on an in-depth exploration of the latest developments within the Bitcoin Core software, underscoring the project's ongoing commitment to network resilience, user privacy, and operational security. Despite the casual start, discussing the sporadic nature of their podcast schedule, the conversation quickly pivoted to substantial technical advancements and strategic enhancements that characterize Bitcoin Core 23's release.\n\nA key update discussed by Provoost and van Wirdum pertains to the improvement in node connectivity across various communication ports. Historically, Bitcoin nodes predominantly connected through port 8333, a practice that, while establishing a standard, also posed potential vulnerabilities, especially in scenarios where Internet Service Providers (ISPs) might target this port for blocking. The latest iteration of Bitcoin Core introduces a significant shift away from this rigidity, promoting flexibility by facilitating connections across an array of ports. This move not only aims to circumvent ISP-related disruptions but also represents a proactive step toward safeguarding the decentralized ethos of the Bitcoin network against regulatory adversities.\n\nFurther emphasizing the theme of network robustness and user privacy, the discussion highlighted the integration of CJDNS within Bitcoin Core. This addition broadens the spectrum of anonymity networks supported by Bitcoin, alongside Tor and I2P, providing users with more avenues to maintain privacy in their internet usage. Coupled with this is the enhancement of the fee estimation algorithm, which now incorporates the dynamics of Replace-By-Fee (RBF) transactions. This adjustment reflects a deeper understanding of network congestion and fee competition, aiming to furnish users with more accurate guidance on transaction fees, thereby improving the overall user experience during high traffic periods.\n\nThe introduction of User-space Statistically Defined Tracing (USDT) marks another leap forward. USDT equips developers and researchers with sophisticated tools for extracting detailed statistics from nodes, facilitating a granular analysis of network behavior and performance. This feature underscores Bitcoin Core's commitment to advancing the technical foundation of the Bitcoin network, offering insights into peer-to-peer interactions and identifying potential security threats.\n\nAdditionally, the conversation delved into more nuanced updates, such as the refinement of log file mechanisms and the adoption of the Bech32 address format. These developments not only enhance the operational efficiency of Bitcoin Core but also prioritize user convenience and safety. The integration of Taproot support in new wallets, for instance, signifies a strategic move towards achieving transactional indistinguishability, thereby augmenting privacy and security on the blockchain. Similarly, the ability to freeze coins within wallets presents users with greater control over their funds, enabling them to mitigate risks associated with dust attacks and other privacy-compromising tactics.\n\nA particularly interesting segment of the podcast tackled an unexpected challenge: a bug in the C compiler used for Windows, which threatened the stability of Bitcoin Core. This issue illuminated the intricate dependencies inherent in software development, showcasing the need for a collaborative and proactive approach to problem-solving. Through swift action, including the development of patches and engagement with the compiler's developers, the Bitcoin Core team exemplified their dedication to maintaining the software's integrity against external vulnerabilities.\n\nIn sum, the dialogue between Sjors Provoost and Aaron van Wirdum provided a comprehensive overview of the latest enhancements to Bitcoin Core, reflecting a meticulous pursuit of innovation aimed at fortifying the network's infrastructure, enhancing user privacy, and ensuring a seamless, secure user experience. Through these discussions, listeners gained valuable insights into the technical and strategic considerations driving the evolution of Bitcoin's foundational technology, highlighting the community's unwavering commitment to advancing this pioneering digital currency platform."
}