{
    "id": "bitcointranscripts+bitcoin-core-dev-tech+2023-09+privacy-metrics",
    "title": "Privacy Metrics for Coin Selection",
    "body_formatted": "{\"type\":\"list\"}",
    "body": "\n- Goal: Get privacy consciousness into coin selection\n- Configurability\n  - Privacy vs cost (waste)\n  - Privacy: weighted on a 0-5 scale\n  - Cost: weighted on a 0-5 scale\n- Convert privacy preference (0-5) into satoshis to make it compatible with the waste score\n  - Combined score = PrivacyScoreWeight x PrivacyScore + CostWeight x WasteMetric\n  - 20-30 sats per privacy point as a gut feeling\n- Privacy score example: sending to different script type than inputs of transaction\n  - We already match the change type to the recipient type, but that can still mean that we have differently typed inputs than outputs\n  - If we have two input sets, where one has the same type and the other has a different type, the one with the same type inputs should be preferred by the privacy metric\n- Privacy score example: Preferring spending UTXOs of similar age\n  - E.g. spending a UTXO received two years ago and one received the same week may leak more information than two UTXOs received two years ago\n  - The timeframe in which someone spends received coins could be a privacy leak\n  - Right now, given current 12 input sets and variability of coin selection, might not be a privacy concern\n- Need to implement privacy heuristics\n  - Which requires more information about UTXOs\n- 24 potential ideas for metrics so far\n  - Start with just 3 for first implementation\n  - Inspired by prior work by Bitcoin Privacy Wiki, Wasabi, LaurentMT\n  - There are considerations for wallet implementation\n  - Tx entropy metric (Samourai)\n    - Number of interpretations the transaction could have\n  - At some point get a group together to go through the criteria to get feedback on degree of privacy impact for each\n- Could use wallet help in terms of pulling out data here and there\n- Interplay between APS (avoid partial spends) and privacy scoring\n  - Perhaps turn off APS with a privacy score of 0\n    - Potential confusion from users (\"I have privacy at 0, but APS still on by default\")\n  - Configuration options that have overlapping areas of concern\n- Future\n  - Wallet Health Metric (also 0-5)\n\n",
    "body_type": "markdown",
    "created_at": "2023-09-20T00:00:00.000Z",
    "domain": "https://btctranscripts.com/",
    "url": "https://btctranscripts.com/bitcoin-core-dev-tech/2023-09/privacy-metrics",
    "categories": [
        "core-dev-tech"
    ],
    "tags": [
        "bitcoin-core",
        "privacy-enhancements",
        "coin-selection"
    ],
    "authors": [
        "Mark Erhardt"
    ],
    "indexed_at": "2024-03-21T16:33:36.032Z",
    "summary": "In a recent discussion, Mark Erhardt delved into the intricate balance between privacy and cost in coin selection, proposing a novel approach to incorporate privacy consciousness directly into the mechanics of transaction creation. The crux of Erhardt's proposition lies in a configurable system where users can weigh their preferences for privacy against the potential cost implications, both on a scale from 0 to 5. This system aims to translate the abstract value of privacy into a quantifiable metric by equating each privacy point to a specific satoshi amount, suggesting an initial ballpark of 20-30 satoshis per privacy point.\n\nErhardt further elaborates on the practical application of this privacy scoring system through examples. One such example highlights the importance of matching the script type of transaction outputs to that of the inputs, proposing that selections which maintain uniformity in script types should be favored for enhanced privacy. This is predicated on the observation that discrepancies in input and output script types could inadvertently leak information about the transaction's origins and intents. Another critical aspect of privacy-centric coin selection involves the age of the Unspent Transaction Outputs (UTXOs) being spent. Erhardt argues that spending UTXOs with similar acquisition dates can minimize the risk of privacy leaks compared to transactions that spend coins received over vastly different timeframes.\n\nTo implement these privacy considerations effectively, Erhardt acknowledges the need for additional data concerning UTXOs, pointing out the requirement for more sophisticated privacy heuristics. With 24 potential privacy metrics identified so far, the initial implementation phase will focus on just three, drawing inspiration from previous work by entities like the Bitcoin Privacy Wiki, Wasabi, LaurentMT, and the Tx entropy metric developed by Samourai. This careful selection underscores the complexity of balancing privacy enhancements with practical wallet functionality.\n\nThe interplay between Avoid Partial Spends (APS) and the proposed privacy scoring also emerges as a key area of focus. Erhardt suggests that users with a zero privacy score might benefit from the option to disable APS, highlighting the nuanced relationship between different configuration options and their impact on user experience and transaction privacy.\n\nLooking ahead, Erhardt envisions the development of a \"Wallet Health Metric,\" again on a 0-5 scale, to provide users with a broader assessment of their wallet's operational status, including its privacy posture. This forward-thinking approach not only emphasizes the ongoing evolution of privacy considerations in cryptocurrency transactions but also reflects a deep commitment to empowering users with the tools they need to navigate the trade-offs between privacy, cost, and convenience in the digital currency space."
}